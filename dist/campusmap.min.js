/*! campusmap - v0.0.0 - 2014-05-13
* Copyright (c) 2014 Joe Sullivan; Licensed MIT */
var requirejs,require,define;(function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;e.length>n&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){(n||!hasProp(e,i))&&(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n,r=e.length;for(t=0;r>t;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,a,o,s,l,c,u,p,d,f,h,m=n&&n.split("/"),g=m,v=T.map,b=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(g=m.slice(0,m.length-1),e=e.split("/"),u=e.length-1,T.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),e=g.concat(e),t(e),e=e.join("/")):0===e.indexOf("./")&&(e=e.substring(2))),r&&v&&(m||b)){o=e.split("/");e:for(s=o.length;s>0;s-=1){if(c=o.slice(0,s).join("/"),m)for(l=m.length;l>0;l-=1)if(a=getOwn(v,m.slice(0,l).join("/")),a&&(a=getOwn(a,c))){p=a,d=s;break e}!f&&b&&getOwn(b,c)&&(f=getOwn(b,c),h=s)}!p&&f&&(p=f,d=h),p&&(o.splice(0,d,p),e=o.join("/"))}return i=getOwn(T.pkgs,e),i?i:e}function r(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===_.contextName?(t.parentNode.removeChild(t),!0):void 0})}function i(e){var t=getOwn(T.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),_.require.undef(e),_.require([e]),!0):void 0}function a(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function o(e,t,r,i){var o,s,l,c,u=null,p=t?t.name:null,d=e,f=!0,h="";return e||(f=!1,e="_@r"+(L+=1)),c=a(e),u=c[0],e=c[1],u&&(u=n(u,p,i),s=getOwn(E,u)),e&&(u?h=s&&s.normalize?s.normalize(e,function(e){return n(e,p,i)}):n(e,p,i):(h=n(e,p,i),c=a(h),u=c[0],h=c[1],r=!0,o=_.nameToUrl(h))),l=!u||s||r?"":"_unnormalized"+(O+=1),{prefix:u,name:h,parentMap:t,unnormalized:!!l,url:o,originalName:d,isDefine:f,id:(u?u+"!"+h:h)+l}}function s(e){var t=e.id,n=getOwn(k,t);return n||(n=k[t]=new _.Module(e)),n}function l(e,t,n){var r=e.id,i=getOwn(k,r);!hasProp(E,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(E[r])}function c(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(k,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(j,[j.length,0].concat(globalDefQueue)),globalDefQueue=[])}function p(e){delete k[e],delete C[e]}function d(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var a=r.id,o=getOwn(k,a);!o||e.depMatched[i]||n[a]||(getOwn(t,a)?(e.defineDep(i,E[a]),e.check()):d(o,t,n))}),n[r]=!0)}function f(){var e,t,n=1e3*T.waitSeconds,a=n&&_.startTime+n<(new Date).getTime(),o=[],s=[],l=!1,u=!0;if(!b){if(b=!0,eachProp(C,function(e){var n=e.map,c=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&a)i(c)?(t=!0,l=!0):(o.push(c),r(c));else if(!e.inited&&e.fetched&&n.isDefine&&(l=!0,!n.prefix))return u=!1}),a&&o.length)return e=makeError("timeout","Load timeout for modules: "+o,null,o),e.contextName=_.contextName,c(e);u&&each(s,function(e){d(e,{},{})}),a&&!t||!l||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,f()},50)),b=!1}}function h(e){hasProp(E,e[0])||s(o(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,_.onScriptLoad,"load","onreadystatechange"),m(t,_.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(u();j.length;){if(e=j.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}}var b,y,_,x,w,T={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},k={},C={},S={},j=[],E={},A={},N={},L=1,O=1;return x={require:function(e){return e.require?e.require:e.require=_.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?E[e.map.id]=e.exports:e.exports=E[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(T.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},y=function(e){this.events=getOwn(S,e.id)||{},this.map=e,this.shim=getOwn(T.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},y.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,_.startTime=(new Date).getTime();var e=this.map;return this.shim?(_.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;A[e]||(A[e]=!0,_.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=_.execCb(n,a,r,i)}catch(o){e=o}else i=_.execCb(n,a,r,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=a;this.exports=i,this.map.isDefine&&!this.ignore&&(E[n]=i,req.onResourceLoad&&req.onResourceLoad(_,this.map,this.depMaps)),p(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=o(e.prefix);this.depMaps.push(r),l(r,"defined",bind(this,function(r){var i,a,u,d=getOwn(N,this.map.id),f=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=_.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(f=r.normalize(f,function(e){return n(e,h,!0)})||""),a=o(e.prefix+"!"+f,this.map.parentMap),l(a,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(k,a.id),u&&(this.depMaps.push(a),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()),void 0):d?(this.map.url=_.nameToUrl(d),this.load(),void 0):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&p(e.map.id)}),c(e)}),i.fromText=bind(this,function(n,r){var a=e.name,l=o(a),u=useInteractive;r&&(n=r),u&&(useInteractive=!1),s(l),hasProp(T.config,t)&&(T.config[a]=T.config[t]);try{req.exec(n)}catch(p){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+p,p,[t]))}u&&(useInteractive=!0),this.depMaps.push(l),_.completeLoad(a),m([a],i)}),r.load(e.name,m,i,T),void 0)})),_.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){C[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(x,e.id))return this.depExports[t]=i(this),void 0;this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}n=e.id,r=k[n],hasProp(x,n)||!r||r.enabled||_.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&_.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},_={config:T,contextName:e,registry:k,defined:E,urlFetched:A,defQueue:j,Module:y,makeModuleMap:o,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=T.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(T[t]||(T[t]={}),mixin(T[t],e,!0,!0)):T[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(N[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=_.makeShimExports(e)),t[n]=e}),T.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(T.paths[n]=e.location),T.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t))}),(e.deps||e.callback)&&_.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function a(n,r,l){var u,p,d;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?c(makeError("requireargs","Invalid require call"),l):t&&hasProp(x,n)?x[n](k[t.id]):req.get?req.get(_,n,t,a):(p=o(n,t,!1,!0),u=p.id,hasProp(E,u)?E[u]:c(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),_.nextTick(function(){v(),d=s(o(null,t)),d.skipMap=i.skipMap,d.init(n,r,l,{enabled:!0}),f()}),a)}return i=i||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),a=e.split("/")[0],o="."===a||".."===a;return-1!==i&&(!o||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),_.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(E,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(E,e)||hasProp(k,e)}}),t||(a.undef=function(e){u();var n=o(e,t,!0),i=getOwn(k,e);r(e),delete E[e],delete A[n.url],delete S[e],eachReverse(j,function(t,n){t[0]===e&&j.splice(n,1)}),i&&(i.events.defined&&(S[e]=i.events),p(e))}),a},enable:function(e){var t=getOwn(k,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,r,a=getOwn(T.shim,e)||{},o=a.exports;for(u();j.length;){if(n=j.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);h(n)}if(r=getOwn(k,e),!t&&!hasProp(E,e)&&r&&!r.inited){if(!(!T.enforceDefine||o&&getGlobal(o)))return i(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));h([e,a.deps||[],a.exportsFn])}f()},nameToUrl:function(e,t,n){var r,i,a,o,s,l,c,u=getOwn(T.pkgs,e);if(u&&(e=u),c=getOwn(N,e))return _.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(r=T.paths,i=e.split("/"),a=i.length;a>0;a-=1)if(o=i.slice(0,a).join("/"),l=getOwn(r,o)){isArray(l)&&(l=l[0]),i.splice(0,a,l);break}s=i.join("/"),s+=t||(/^data\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":T.baseUrl)+s}return T.urlArgs?s+((-1===s.indexOf("?")?"?":"&")+T.urlArgs):s},load:function(e,t){req.load(_,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);_.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return i(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},_.require=_.makeRequire(),_}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.11",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"==""+opera,contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(requirejs!==void 0){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,a,o=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=n,n=r):e=[]),a&&a.context&&(o=a.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),a&&i.configure(a),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&0>(""+r.attachEvent).indexOf("[native code")||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(a){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,a,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&((""+n).replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}})(this),function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;i>++r;)if(e[r]===t)return r;return-1}function t(t,n){var r=typeof n;if(t=t.cache,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:v+n;return t=(t=t[r])&&t[i],"object"==r?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:v+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){for(var n=e.criteria,r=t.criteria,i=-1,a=n.length;a>++i;){var o=n[i],s=r[i];if(o!==s){if(o>s||o===f)return 1;if(s>o||s===f)return-1}}return e.index-t.index}function a(e){var t=-1,r=e.length,i=e[0],a=e[0|r/2],o=e[r-1];if(i&&"object"==typeof i&&a&&"object"==typeof a&&o&&"object"==typeof o)return!1;var s=l();s["false"]=s["null"]=s["true"]=s.undefined=!1;var c=l();for(c.array=e,c.cache=s,c.push=n;r>++t;)c.push(e[t]);return c}function o(e){return"\\"+V[e]}function s(){return h.pop()||[]}function l(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function c(e){e.length=0,y>h.length&&h.push(e)}function u(e){var t=e.cache;t&&u(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,y>m.length&&m.push(e)}function p(e,t,n){t||(t=0),n===f&&(n=e?e.length:0);for(var r=-1,i=n-t||0,a=Array(0>i?0:i);i>++r;)a[r]=e[t+r];return a}function d(n){function h(e){return e&&"object"==typeof e&&!Yr(e)&&Pr.call(e,"__wrapped__")?e:new m(e)}function m(e,t){this.__chain__=!!t,this.__wrapped__=e}function y(e){function t(){if(r){var e=p(r);qr.apply(e,arguments)}if(this instanceof t){var a=G(n.prototype),o=n.apply(a,e||arguments);return Nt(o)?o:a}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Zr(t,e),t}function V(e,t,n,r,i){if(n){var a=n(e);if(a!==f)return a}var o=Nt(e);if(!o)return e;var l=jr.call(e);if(!z[l])return e;var u=Gr[l];switch(l){case D:case I:return new u(+e);case B:case H:return new u(e);case R:return a=u(e.source,C.exec(e)),a.lastIndex=e.lastIndex,a}var d=Yr(e);if(t){var h=!r;r||(r=s()),i||(i=s());for(var m=r.length;m--;)if(r[m]==e)return i[m];a=d?u(e.length):{}}else a=d?p(e):ai({},e);return d&&(Pr.call(e,"index")&&(a.index=e.index),Pr.call(e,"input")&&(a.input=e.input)),t?(r.push(e),i.push(a),(d?Qt:li)(e,function(e,o){a[o]=V(e,t,n,r,i)}),h&&(c(r),c(i)),a):a}function G(e){return Nt(e)?Fr(e):{}}function Q(e,t,n){if("function"!=typeof e)return Yn;if(t===f||!("prototype"in e))return e;var r=e.__bindData__;if(r===f&&(Qr.funcNames&&(r=!e.name),r=r||!Qr.funcDecomp,!r)){var i=Or.call(e);Qr.funcNames||(r=!S.test(i)),r||(r=N.test(i),Zr(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return qn(e,t)}function Z(e){function t(){var e=l?o:this;if(i){var h=p(i);qr.apply(h,arguments)}if((a||u)&&(h||(h=p(arguments)),a&&qr.apply(h,a),u&&s>h.length))return r|=16,Z([n,d?r:-4&r,h,null,o,s]);if(h||(h=arguments),c&&(n=e[f]),this instanceof t){e=G(n.prototype);var m=n.apply(e,h);return Nt(m)?m:e}return n.apply(e,h)}var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=1&r,c=2&r,u=4&r,d=8&r,f=n;return Zr(t,e),t}function Y(n,r){var i=-1,o=lt(),s=n?n.length:0,l=s>=b&&o===e,c=[];if(l){var p=a(r);p?(o=t,r=p):l=!1}for(;s>++i;){var d=n[i];0>o(r,d)&&c.push(d)}return l&&u(r),c}function et(e,t,n,r){for(var i=(r||0)-1,a=e?e.length:0,o=[];a>++i;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Yr(s)||dt(s))){t||(s=et(s,t,n));var l=-1,c=s.length,u=o.length;for(o.length+=c;c>++l;)o[u++]=s[l]}else n||o.push(s)}return o}function tt(e,t,n,r,i,a){if(n){var o=n(e,t);if(o!==f)return!!o}if(e===t)return 0!==e||1/e==1/t;var l=typeof e,u=typeof t;if(!(e!==e||e&&U[l]||t&&U[u]))return!1;if(null==e||null==t)return e===t;var p=jr.call(e),d=jr.call(t);if(p==P&&(p=F),d==P&&(d=F),p!=d)return!1;switch(p){case D:case I:return+e==+t;case B:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case R:case H:return e==wr(t)}var h=p==q;if(!h){var m=Pr.call(e,"__wrapped__"),g=Pr.call(t,"__wrapped__");if(m||g)return tt(m?e.__wrapped__:e,g?t.__wrapped__:t,n,r,i,a);if(p!=F)return!1;var v=e.constructor,b=t.constructor;if(v!=b&&!(At(v)&&v instanceof v&&At(b)&&b instanceof b)&&"constructor"in e&&"constructor"in t)return!1}var y=!i;i||(i=s()),a||(a=s());for(var _=i.length;_--;)if(i[_]==e)return a[_]==t;var x=0;if(o=!0,i.push(e),a.push(t),h){if(_=e.length,x=t.length,o=x==_,o||r)for(;x--;){var w=_,T=t[x];if(r)for(;w--&&!(o=tt(e[w],T,n,r,i,a)););else if(!(o=tt(e[x],T,n,r,i,a)))break}}else si(t,function(t,s,l){return Pr.call(l,s)?(x++,o=Pr.call(e,s)&&tt(e[s],t,n,r,i,a)):f}),o&&!r&&si(e,function(e,t,n){return Pr.call(n,t)?o=--x>-1:f});return i.pop(),a.pop(),y&&(c(i),c(a)),o}function nt(e,t,n,r,i){(Yr(t)?Qt:li)(t,function(t,a){var o,s,l=t,c=e[a];if(t&&((s=Yr(t))||ci(t))){for(var u=r.length;u--;)if(o=r[u]==t){c=i[u];break}if(!o){var p;n&&(l=n(c,t),(p=l!==f)&&(c=l)),p||(c=s?Yr(c)?c:[]:ci(c)?c:{}),r.push(t),i.push(c),p||nt(c,t,n,r,i)}}else n&&(l=n(c,t),l===f&&(l=t)),l!==f&&(c=l);e[a]=c})}function rt(e,t){return e+Lr(Xr()*(t-e+1))}function it(n,r,i){var o=-1,l=lt(),p=n?n.length:0,d=[],f=!r&&p>=b&&l===e,h=i||f?s():d;if(f){var m=a(h);l=t,h=m}for(;p>++o;){var g=n[o],v=i?i(g,o,n):g;(r?!o||h[h.length-1]!==v:0>l(h,v))&&((i||f)&&h.push(v),d.push(g))}return f?(c(h.array),u(h)):i&&c(h),d}function at(e){return function(t,n,r){var i={};n=h.createCallback(n,r,3);var a=-1,o=t?t.length:0;if("number"==typeof o)for(;o>++a;){var s=t[a];e(i,s,n(s,a,t),t)}else li(t,function(t,r,a){e(i,t,n(t,r,a),a)});return i}}function ot(e,t,n,r,i,a){var o=1&t,s=2&t,l=4&t,c=16&t,u=32&t;if(!s&&!At(e))throw new Tr;c&&!n.length&&(t&=-17,c=n=!1),u&&!r.length&&(t&=-33,u=r=!1);var d=e&&e.__bindData__;if(d&&d!==!0)return d=p(d),d[2]&&(d[2]=p(d[2])),d[3]&&(d[3]=p(d[3])),!o||1&d[1]||(d[4]=i),!o&&1&d[1]&&(t|=8),!l||4&d[1]||(d[5]=a),c&&qr.apply(d[2]||(d[2]=[]),n),u&&$r.apply(d[3]||(d[3]=[]),r),d[1]|=t,ot.apply(null,d);var f=1==t||17===t?y:Z;return f([e,t,n,r,i,a])}function st(e){return ti[e]}function lt(){var t=(t=h.indexOf)===bn?e:t;return t}function ct(e){return"function"==typeof e&&Er.test(e)}function ut(e){var t,n;return e&&jr.call(e)==F&&(t=e.constructor,!At(t)||t instanceof t)?(si(e,function(e,t){n=t}),n===f||Pr.call(e,n)):!1}function pt(e){return ni[e]}function dt(e){return e&&"object"==typeof e&&"number"==typeof e.length&&jr.call(e)==P||!1}function ft(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),V(e,t,"function"==typeof n&&Q(n,r,1))}function ht(e,t,n){return V(e,!0,"function"==typeof t&&Q(t,n,1))}function mt(e,t){var n=G(e);return t?ai(n,t):n}function gt(e,t,n){var r;return t=h.createCallback(t,n,3),li(e,function(e,n,i){return t(e,n,i)?(r=n,!1):f}),r}function vt(e,t,n){var r;return t=h.createCallback(t,n,3),yt(e,function(e,n,i){return t(e,n,i)?(r=n,!1):f}),r}function bt(e,t,n){var r=[];si(e,function(e,t){r.push(t,e)});var i=r.length;for(t=Q(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function yt(e,t,n){var r=ei(e),i=r.length;for(t=Q(t,n,3);i--;){var a=r[i];if(t(e[a],a,e)===!1)break}return e}function _t(e){var t=[];return si(e,function(e,n){At(e)&&t.push(n)}),t.sort()}function xt(e,t){return e?Pr.call(e,t):!1}function wt(e){for(var t=-1,n=ei(e),r=n.length,i={};r>++t;){var a=n[t];i[e[a]]=a}return i}function Tt(e){return e===!0||e===!1||e&&"object"==typeof e&&jr.call(e)==D||!1}function kt(e){return e&&"object"==typeof e&&jr.call(e)==I||!1}function Ct(e){return e&&1===e.nodeType||!1}function St(e){var t=!0;if(!e)return t;var n=jr.call(e),r=e.length;return n==q||n==H||n==P||n==F&&"number"==typeof r&&At(e.splice)?!r:(li(e,function(){return t=!1}),t)}function jt(e,t,n,r){return tt(e,t,"function"==typeof n&&Q(n,r,2))}function Et(e){return Hr(e)&&!zr(parseFloat(e))}function At(e){return"function"==typeof e}function Nt(e){return!(!e||!U[typeof e])}function Lt(e){return Mt(e)&&e!=+e}function Ot(e){return null===e}function Mt(e){return"number"==typeof e||e&&"object"==typeof e&&jr.call(e)==B||!1}function Pt(e){return e&&"object"==typeof e&&jr.call(e)==R||!1}function qt(e){return"string"==typeof e||e&&"object"==typeof e&&jr.call(e)==H||!1}function Dt(e){return e===f}function It(e,t,n){var r={};return t=h.createCallback(t,n,3),li(e,function(e,n,i){r[n]=t(e,n,i)}),r}function $t(e){var t=arguments,n=2;if(!Nt(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=Q(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=p(arguments,1,n),a=-1,o=s(),l=s();n>++a;)nt(e,i[a],r,o,l);return c(o),c(l),e}function Bt(e,t,n){var r={};if("function"!=typeof t){var i=[];si(e,function(e,t){i.push(t)}),i=Y(i,et(arguments,!0,!1,1));for(var a=-1,o=i.length;o>++a;){var s=i[a];r[s]=e[s]}}else t=h.createCallback(t,n,3),si(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function Ft(e){for(var t=-1,n=ei(e),r=n.length,i=hr(r);r>++t;){var a=n[t];i[t]=[a,e[a]]}return i}function Rt(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,a=et(arguments,!0,!1,1),o=Nt(e)?a.length:0;o>++i;){var s=a[i];s in e&&(r[s]=e[s])}else t=h.createCallback(t,n,3),si(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function Ht(e,t,n,r){var i=Yr(e);if(null==n)if(i)n=[];else{var a=e&&e.constructor,o=a&&a.prototype;n=G(o)}return t&&(t=h.createCallback(t,r,4),(i?Qt:li)(e,function(e,r,i){return t(n,e,r,i)})),n}function zt(e){for(var t=-1,n=ei(e),r=n.length,i=hr(r);r>++t;)i[t]=e[n[t]];return i}function Wt(e){for(var t=arguments,n=-1,r=et(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,a=hr(i);i>++n;)a[n]=e[r[n]];return a}function Jt(e,t,n){var r=-1,i=lt(),a=e?e.length:0,o=!1;return n=(0>n?Jr(0,a+n):n)||0,Yr(e)?o=i(e,t,n)>-1:"number"==typeof a?o=(qt(e)?e.indexOf(t,n):i(e,t,n))>-1:li(e,function(e){return++r>=n?!(o=e===t):f}),o}function Ut(e,t,n){var r=!0;t=h.createCallback(t,n,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;a>++i&&(r=!!t(e[i],i,e)););else li(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Vt(e,t,n){var r=[];t=h.createCallback(t,n,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;a>++i;){var o=e[i];t(o,i,e)&&r.push(o)}else li(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Xt(e,t,n){t=h.createCallback(t,n,3);var r=-1,i=e?e.length:0;if("number"!=typeof i){var a;return li(e,function(e,n,r){return t(e,n,r)?(a=e,!1):f}),a}for(;i>++r;){var o=e[r];if(t(o,r,e))return o}}function Gt(e,t,n){var r;return t=h.createCallback(t,n,3),Zt(e,function(e,n,i){return t(e,n,i)?(r=e,!1):f}),r}function Qt(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&n===f?t:Q(t,n,3),"number"==typeof i)for(;i>++r&&t(e[r],r,e)!==!1;);else li(e,t);return e}function Zt(e,t,n){var r=e?e.length:0;if(t=t&&n===f?t:Q(t,n,3),"number"==typeof r)for(;r--&&t(e[r],r,e)!==!1;);else{var i=ei(e);r=i.length,li(e,function(e,n,a){return n=i?i[--r]:--r,t(a[n],n,a)})}return e}function Yt(e,t){var n=p(arguments,2),r=-1,i="function"==typeof t,a=e?e.length:0,o=hr("number"==typeof a?a:0);return Qt(e,function(e){o[++r]=(i?t:e[t]).apply(e,n)}),o}function Kt(e,t,n){var r=-1,i=e?e.length:0;if(t=h.createCallback(t,n,3),"number"==typeof i)for(var a=hr(i);i>++r;)a[r]=t(e[r],r,e);else a=[],li(e,function(e,n,i){a[++r]=t(e,n,i)});return a}function en(e,t,n){var i=-1/0,a=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Yr(e))for(var o=-1,s=e.length;s>++o;){var l=e[o];l>a&&(a=l)}else t=null==t&&qt(e)?r:h.createCallback(t,n,3),Qt(e,function(e,n,r){var o=t(e,n,r);o>i&&(i=o,a=e)});return a}function tn(e,t,n){var i=1/0,a=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Yr(e))for(var o=-1,s=e.length;s>++o;){var l=e[o];a>l&&(a=l)}else t=null==t&&qt(e)?r:h.createCallback(t,n,3),Qt(e,function(e,n,r){var o=t(e,n,r);i>o&&(i=o,a=e)});return a}function nn(e,t,n,r){if(!e)return n;var i=3>arguments.length;t=h.createCallback(t,r,4);var a=-1,o=e.length;if("number"==typeof o)for(i&&(n=e[++a]);o>++a;)n=t(n,e[a],a,e);else li(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)});return n}function rn(e,t,n,r){var i=3>arguments.length;return t=h.createCallback(t,r,4),Zt(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}function an(e,t,n){return t=h.createCallback(t,n,3),Vt(e,function(e,n,r){return!t(e,n,r)})}function on(e,t,n){if(e&&"number"!=typeof e.length&&(e=zt(e)),null==t||n)return e?e[rt(0,e.length-1)]:f;var r=sn(e);return r.length=Ur(Jr(0,t),r.length),r}function sn(e){var t=-1,n=e?e.length:0,r=hr("number"==typeof n?n:0);return Qt(e,function(e){var n=rt(0,++t);r[t]=r[n],r[n]=e}),r}function ln(e){var t=e?e.length:0;return"number"==typeof t?t:ei(e).length}function cn(e,t,n){var r;t=h.createCallback(t,n,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;a>++i&&!(r=t(e[i],i,e)););else li(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function un(e,t,n){var r=-1,a=Yr(t),o=e?e.length:0,p=hr("number"==typeof o?o:0);for(a||(t=h.createCallback(t,n,3)),Qt(e,function(e,n,i){var o=p[++r]=l();a?o.criteria=Kt(t,function(t){return e[t]}):(o.criteria=s())[0]=t(e,n,i),o.index=r,o.value=e}),o=p.length,p.sort(i);o--;){var d=p[o];p[o]=d.value,a||c(d.criteria),u(d)}return p}function pn(e){return e&&"number"==typeof e.length?p(e):zt(e)}function dn(e){for(var t=-1,n=e?e.length:0,r=[];n>++t;){var i=e[t];i&&r.push(i)}return r}function fn(e){return Y(e,et(arguments,!0,!0,1))}function hn(e,t,n){var r=-1,i=e?e.length:0;for(t=h.createCallback(t,n,3);i>++r;)if(t(e[r],r,e))return r;return-1}function mn(e,t,n){var r=e?e.length:0;for(t=h.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function gn(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=-1;for(t=h.createCallback(t,n,3);i>++a&&t(e[a],a,e);)r++}else if(r=t,null==r||n)return e?e[0]:f;return p(e,0,Ur(Jr(0,r),i))}function vn(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=Kt(e,n,r)),et(e,t)}function bn(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=0>r?Jr(0,i+r):r||0}else if(r){var a=jn(t,n);return t[a]===n?a:-1}return e(t,n,r)}function yn(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=i;for(t=h.createCallback(t,n,3);a--&&t(e[a],a,e);)r++}else r=null==t||n?1:t||r;return p(e,0,Ur(Jr(0,i-r),i))}function _n(){for(var n=[],r=-1,i=arguments.length,o=s(),l=lt(),p=l===e,d=s();i>++r;){var f=arguments[r];(Yr(f)||dt(f))&&(n.push(f),o.push(p&&f.length>=b&&a(r?n[r]:d)))}var h=n[0],m=-1,g=h?h.length:0,v=[];e:for(;g>++m;){var y=o[0];if(f=h[m],0>(y?t(y,f):l(d,f))){for(r=i,(y||d).push(f);--r;)if(y=o[r],0>(y?t(y,f):l(n[r],f)))continue e;v.push(f)}}for(;i--;)y=o[i],y&&u(y);return c(o),c(d),v}function xn(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=i;for(t=h.createCallback(t,n,3);a--&&t(e[a],a,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:f;return p(e,Jr(0,i-r))}function wn(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?Jr(0,r+n):Ur(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function Tn(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;r>++n;)for(var a=-1,o=t[n];i>++a;)e[a]===o&&(Ir.call(e,a--,1),i--);return e}function kn(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);
for(var r=-1,i=Jr(0,Ar((t-e)/(n||1))),a=hr(i);i>++r;)a[r]=e,e+=n;return a}function Cn(e,t,n){var r=-1,i=e?e.length:0,a=[];for(t=h.createCallback(t,n,3);i>++r;){var o=e[r];t(o,r,e)&&(a.push(o),Ir.call(e,r--,1),i--)}return a}function Sn(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,a=e?e.length:0;for(t=h.createCallback(t,n,3);a>++i&&t(e[i],i,e);)r++}else r=null==t||n?1:Jr(0,t);return p(e,r)}function jn(e,t,n,r){var i=0,a=e?e.length:i;for(n=n?h.createCallback(n,r,1):Yn,t=n(t);a>i;){var o=i+a>>>1;t>n(e[o])?i=o+1:a=o}return i}function En(){return it(et(arguments,!0,!0))}function An(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=h.createCallback(n,r,3)),it(e,t,n)}function Nn(e){return Y(e,p(arguments,1))}function Ln(){for(var e=-1,t=arguments.length;t>++e;){var n=arguments[e];if(Yr(n)||dt(n))var r=r?it(Y(r,n).concat(Y(n,r))):n}return r||[]}function On(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?en(fi(e,"length")):0,r=hr(0>n?0:n);n>++t;)r[t]=fi(e,t);return r}function Mn(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Yr(e[0])||(t=[]);r>++n;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function Pn(e,t){if(!At(t))throw new Tr;return function(){return 1>--e?t.apply(this,arguments):f}}function qn(e,t){return arguments.length>2?ot(e,17,p(arguments,2),null,t):ot(e,1,null,null,t)}function Dn(e){for(var t=arguments.length>1?et(arguments,!0,!1,1):_t(e),n=-1,r=t.length;r>++n;){var i=t[n];e[i]=ot(e[i],1,null,null,e)}return e}function In(e,t){return arguments.length>2?ot(t,19,p(arguments,2),null,e):ot(t,3,null,null,e)}function $n(){for(var e=arguments,t=e.length;t--;)if(!At(e[t]))throw new Tr;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Bn(e,t){return t="number"==typeof t?t:+t||e.length,ot(e,4,null,null,null,t)}function Fn(e,t,n){var r,i,a,o,s,l,c,u=0,p=!1,d=!0;if(!At(e))throw new Tr;if(t=Jr(0,t)||0,n===!0){var h=!0;d=!1}else Nt(n)&&(h=n.leading,p="maxWait"in n&&(Jr(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var m=function(){var n=t-(mi()-o);if(0>=n){i&&Nr(i);var p=c;i=l=c=f,p&&(u=mi(),a=e.apply(s,r),l||i||(r=s=null))}else l=Dr(m,n)},g=function(){l&&Nr(l),i=l=c=f,(d||p!==t)&&(u=mi(),a=e.apply(s,r),l||i||(r=s=null))};return function(){if(r=arguments,o=mi(),s=this,c=d&&(l||!h),p===!1)var n=h&&!l;else{i||h||(u=o);var f=p-(o-u),v=0>=f;v?(i&&(i=Nr(i)),u=o,a=e.apply(s,r)):i||(i=Dr(g,f))}return v&&l?l=Nr(l):l||t===p||(l=Dr(m,t)),n&&(v=!0,a=e.apply(s,r)),!v||l||i||(r=s=null),a}}function Rn(e){if(!At(e))throw new Tr;var t=p(arguments,1);return Dr(function(){e.apply(f,t)},1)}function Hn(e,t){if(!At(e))throw new Tr;var n=p(arguments,2);return Dr(function(){e.apply(f,n)},t)}function zn(e,t){if(!At(e))throw new Tr;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):v+arguments[0];return Pr.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function Wn(e){var t,n;if(!At(e))throw new Tr;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Jn(e){return ot(e,16,p(arguments,1))}function Un(e){return ot(e,32,null,p(arguments,1))}function Vn(e,t,n){var r=!0,i=!0;if(!At(e))throw new Tr;return n===!1?r=!1:Nt(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),W.leading=r,W.maxWait=t,W.trailing=i,Fn(e,t,W)}function Xn(e,t){return ot(t,16,[e])}function Gn(e){return function(){return e}}function Qn(e,t,n){var r=typeof e;if(null==e||"function"==r)return Q(e,t,n);if("object"!=r)return nr(e);var i=ei(e),a=i[0],o=e[a];return 1!=i.length||o!==o||Nt(o)?function(t){for(var n=i.length,r=!1;n--&&(r=tt(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[a];return o===t&&(0!==o||1/o==1/t)}}function Zn(e){return null==e?"":wr(e).replace(ii,st)}function Yn(e){return e}function Kn(e,t,n){var r=!0,i=t&&_t(t);t&&(n||i.length)||(null==n&&(n=t),a=m,t=e,e=h,i=_t(t)),n===!1?r=!1:Nt(n)&&"chain"in n&&(r=n.chain);var a=e,o=At(a);Qt(i,function(n){var i=e[n]=t[n];o&&(a.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,o=[n];qr.apply(o,arguments);var s=i.apply(e,o);if(r||t){if(n===s&&Nt(s))return this;s=new a(s),s.__chain__=t}return s})})}function er(){return n._=Sr,this}function tr(){}function nr(e){return function(t){return t[e]}}function rr(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=Xr();return Ur(e+a*(t-e+parseFloat("1e-"+((a+"").length-1))),t)}return rt(e,t)}function ir(e,t){if(e){var n=e[t];return At(n)?e[t]():n}}function ar(e,t,n){var r=h.templateSettings;e=wr(e||""),n=oi({},n,r);var i,a=oi({},n.imports,r.imports),s=ei(a),l=zt(a),c=0,u=n.interpolate||A,p="__p += '",d=xr((n.escape||A).source+"|"+u.source+"|"+(u===j?k:A).source+"|"+(n.evaluate||A).source+"|$","g");e.replace(d,function(t,n,r,a,s,l){return r||(r=a),p+=e.slice(c,l).replace(L,o),n&&(p+="' +\n__e("+n+") +\n'"),s&&(i=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),p+="';\n";var m=n.variable,g=m;g||(m="obj",p="with ("+m+") {\n"+p+"\n}\n"),p=(i?p.replace(x,""):p).replace(w,"$1").replace(T,"$1;"),p="function("+m+") {\n"+(g?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+M++ +"]")+"\n*/";try{var b=vr(s,"return "+p+v).apply(f,l)}catch(y){throw y.source=p,y}return t?b(t):(b.source=p,b)}function or(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=hr(e);for(t=Q(t,n,1);e>++r;)i[r]=t(r);return i}function sr(e){return null==e?"":wr(e).replace(ri,pt)}function lr(e){var t=++g;return wr(null==e?"":e)+t}function cr(e){return e=new m(e),e.__chain__=!0,e}function ur(e,t){return t(e),e}function pr(){return this.__chain__=!0,this}function dr(){return wr(this.__wrapped__)}function fr(){return this.__wrapped__}n=n?K.defaults(X.Object(),n,K.pick(X,O)):X;var hr=n.Array,mr=n.Boolean,gr=n.Date,vr=n.Function,br=n.Math,yr=n.Number,_r=n.Object,xr=n.RegExp,wr=n.String,Tr=n.TypeError,kr=[],Cr=_r.prototype,Sr=n._,jr=Cr.toString,Er=xr("^"+wr(jr).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ar=br.ceil,Nr=n.clearTimeout,Lr=br.floor,Or=vr.prototype.toString,Mr=ct(Mr=_r.getPrototypeOf)&&Mr,Pr=Cr.hasOwnProperty,qr=kr.push,Dr=n.setTimeout,Ir=kr.splice,$r=kr.unshift,Br=function(){try{var e={},t=ct(t=_r.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Fr=ct(Fr=_r.create)&&Fr,Rr=ct(Rr=hr.isArray)&&Rr,Hr=n.isFinite,zr=n.isNaN,Wr=ct(Wr=_r.keys)&&Wr,Jr=br.max,Ur=br.min,Vr=n.parseInt,Xr=br.random,Gr={};Gr[q]=hr,Gr[D]=mr,Gr[I]=gr,Gr[$]=vr,Gr[F]=_r,Gr[B]=yr,Gr[R]=xr,Gr[H]=wr,m.prototype=h.prototype;var Qr=h.support={};Qr.funcDecomp=!ct(n.WinRTError)&&N.test(d),Qr.funcNames="string"==typeof vr.name,h.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:j,variable:"",imports:{_:h}},Fr||(G=function(){function e(){}return function(t){if(Nt(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}());var Zr=Br?function(e,t){J.value=t,Br(e,"__bindData__",J)}:tr,Yr=Rr||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&jr.call(e)==q||!1},Kr=function(e){var t,n=e,r=[];if(!n)return r;if(!U[typeof e])return r;for(t in n)Pr.call(n,t)&&r.push(t);return r},ei=Wr?function(e){return Nt(e)?Wr(e):[]}:Kr,ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=wt(ti),ri=xr("("+ei(ni).join("|")+")","g"),ii=xr("["+ei(ti).join("")+"]","g"),ai=function(e,t,n){var r,i=e,a=i;if(!i)return a;var o=arguments,s=0,l="number"==typeof n?2:o.length;if(l>3&&"function"==typeof o[l-2])var c=Q(o[--l-1],o[l--],2);else l>2&&"function"==typeof o[l-1]&&(c=o[--l]);for(;l>++s;)if(i=o[s],i&&U[typeof i])for(var u=-1,p=U[typeof i]&&ei(i),d=p?p.length:0;d>++u;)r=p[u],a[r]=c?c(a[r],i[r]):i[r];return a},oi=function(e,t,n){var r,i=e,a=i;if(!i)return a;for(var o=arguments,s=0,l="number"==typeof n?2:o.length;l>++s;)if(i=o[s],i&&U[typeof i])for(var c=-1,u=U[typeof i]&&ei(i),p=u?u.length:0;p>++c;)r=u[c],a[r]===f&&(a[r]=i[r]);return a},si=function(e,t,n){var r,i=e,a=i;if(!i)return a;if(!U[typeof i])return a;t=t&&n===f?t:Q(t,n,3);for(r in i)if(t(i[r],r,e)===!1)return a;return a},li=function(e,t,n){var r,i=e,a=i;if(!i)return a;if(!U[typeof i])return a;t=t&&n===f?t:Q(t,n,3);for(var o=-1,s=U[typeof i]&&ei(i),l=s?s.length:0;l>++o;)if(r=s[o],t(i[r],r,e)===!1)return a;return a},ci=Mr?function(e){if(!e||jr.call(e)!=F)return!1;var t=e.valueOf,n=ct(t)&&(n=Mr(t))&&Mr(n);return n?e==n||Mr(e)==n:ut(e)}:ut,ui=at(function(e,t,n){Pr.call(e,n)?e[n]++:e[n]=1}),pi=at(function(e,t,n){(Pr.call(e,n)?e[n]:e[n]=[]).push(t)}),di=at(function(e,t,n){e[n]=t}),fi=Kt,hi=Vt,mi=ct(mi=gr.now)&&mi||function(){return(new gr).getTime()},gi=8==Vr(_+"08")?Vr:function(e,t){return Vr(qt(e)?e.replace(E,""):e,t||0)};return h.after=Pn,h.assign=ai,h.at=Wt,h.bind=qn,h.bindAll=Dn,h.bindKey=In,h.chain=cr,h.compact=dn,h.compose=$n,h.constant=Gn,h.countBy=ui,h.create=mt,h.createCallback=Qn,h.curry=Bn,h.debounce=Fn,h.defaults=oi,h.defer=Rn,h.delay=Hn,h.difference=fn,h.filter=Vt,h.flatten=vn,h.forEach=Qt,h.forEachRight=Zt,h.forIn=si,h.forInRight=bt,h.forOwn=li,h.forOwnRight=yt,h.functions=_t,h.groupBy=pi,h.indexBy=di,h.initial=yn,h.intersection=_n,h.invert=wt,h.invoke=Yt,h.keys=ei,h.map=Kt,h.mapValues=It,h.max=en,h.memoize=zn,h.merge=$t,h.min=tn,h.omit=Bt,h.once=Wn,h.pairs=Ft,h.partial=Jn,h.partialRight=Un,h.pick=Rt,h.pluck=fi,h.property=nr,h.pull=Tn,h.range=kn,h.reject=an,h.remove=Cn,h.rest=Sn,h.shuffle=sn,h.sortBy=un,h.tap=ur,h.throttle=Vn,h.times=or,h.toArray=pn,h.transform=Ht,h.union=En,h.uniq=An,h.values=zt,h.where=hi,h.without=Nn,h.wrap=Xn,h.xor=Ln,h.zip=On,h.zipObject=Mn,h.collect=Kt,h.drop=Sn,h.each=Qt,h.eachRight=Zt,h.extend=ai,h.methods=_t,h.object=Mn,h.select=Vt,h.tail=Sn,h.unique=An,h.unzip=On,Kn(h),h.clone=ft,h.cloneDeep=ht,h.contains=Jt,h.escape=Zn,h.every=Ut,h.find=Xt,h.findIndex=hn,h.findKey=gt,h.findLast=Gt,h.findLastIndex=mn,h.findLastKey=vt,h.has=xt,h.identity=Yn,h.indexOf=bn,h.isArguments=dt,h.isArray=Yr,h.isBoolean=Tt,h.isDate=kt,h.isElement=Ct,h.isEmpty=St,h.isEqual=jt,h.isFinite=Et,h.isFunction=At,h.isNaN=Lt,h.isNull=Ot,h.isNumber=Mt,h.isObject=Nt,h.isPlainObject=ci,h.isRegExp=Pt,h.isString=qt,h.isUndefined=Dt,h.lastIndexOf=wn,h.mixin=Kn,h.noConflict=er,h.noop=tr,h.now=mi,h.parseInt=gi,h.random=rr,h.reduce=nn,h.reduceRight=rn,h.result=ir,h.runInContext=d,h.size=ln,h.some=cn,h.sortedIndex=jn,h.template=ar,h.unescape=sr,h.uniqueId=lr,h.all=Ut,h.any=cn,h.detect=Xt,h.findWhere=Xt,h.foldl=nn,h.foldr=rn,h.include=Jt,h.inject=nn,Kn(function(){var e={};return li(h,function(t,n){h.prototype[n]||(e[n]=t)}),e}(),!1),h.first=gn,h.last=xn,h.sample=on,h.take=gn,h.head=gn,li(h,function(e,t){var n="sample"!==t;h.prototype[t]||(h.prototype[t]=function(t,r){var i=this.__chain__,a=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new m(a,i):a})}),h.VERSION="2.4.1",h.prototype.chain=pr,h.prototype.toString=dr,h.prototype.value=fr,h.prototype.valueOf=fr,Qt(["join","pop","shift"],function(e){var t=kr[e];h.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new m(n,e):n}}),Qt(["push","reverse","sort","unshift"],function(e){var t=kr[e];h.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Qt(["concat","slice","splice"],function(e){var t=kr[e];h.prototype[e]=function(){return new m(t.apply(this.__wrapped__,arguments),this.__chain__)}}),h}var f,h=[],m=[],g=0,v=+new Date+"",b=75,y=40,_=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",x=/\b__p \+= '';/g,w=/\b(__p \+=) '' \+/g,T=/(__e\(.*?\)|\b__t\)) \+\n'';/g,k=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,S=/^\s*function[ \n\r\t]+\w/,j=/<%=([\s\S]+?)%>/g,E=RegExp("^["+_+"]*0+(?=.$)"),A=/($^)/,N=/\bthis\b/,L=/['\n\r\t\u2028\u2029\\]/g,O=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],M=0,P="[object Arguments]",q="[object Array]",D="[object Boolean]",I="[object Date]",$="[object Function]",B="[object Number]",F="[object Object]",R="[object RegExp]",H="[object String]",z={};z[$]=!1,z[P]=z[q]=z[D]=z[I]=z[B]=z[F]=z[R]=z[H]=!0;var W={leading:!1,maxWait:0,trailing:!1},J={configurable:!1,enumerable:!1,value:null,writable:!1},U={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},V={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},X=U[typeof window]&&window||this,G=U[typeof exports]&&exports&&!exports.nodeType&&exports,Q=U[typeof module]&&module&&!module.nodeType&&module,Z=Q&&Q.exports===G&&G,Y=U[typeof global]&&global;!Y||Y.global!==Y&&Y.window!==Y||(X=Y);var K=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(X._=K,define("underscore",[],function(){return K})):G&&Q?Z?(Q.exports=K)._=K:G._=K:X._=K}.call(this),function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=Tt[e]={};return lt.each(e.match(ut)||[],function(e,n){t[n]=!0}),t}function i(e,n,r,i){if(lt.acceptData(e)){var a,o,s=lt.expando,l="string"==typeof n,c=e.nodeType,u=c?lt.cache:e,p=c?e[s]:e[s]&&s;if(p&&u[p]&&(i||u[p].data)||!l||r!==t)return p||(c?e[s]=p=K.pop()||lt.guid++:p=s),u[p]||(u[p]={},c||(u[p].toJSON=lt.noop)),("object"==typeof n||"function"==typeof n)&&(i?u[p]=lt.extend(u[p],n):u[p].data=lt.extend(u[p].data,n)),a=u[p],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[lt.camelCase(n)]=r),l?(o=a[n],null==o&&(o=a[lt.camelCase(n)])):o=a,o}}function a(e,t,n){if(lt.acceptData(e)){var r,i,a,o=e.nodeType,l=o?lt.cache:e,c=o?e[lt.expando]:lt.expando;if(l[c]){if(t&&(a=n?l[c]:l[c].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in a?t=[t]:(t=lt.camelCase(t),t=t in a?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete a[t[r]];if(!(n?s:lt.isEmptyObject)(a))return}(n||(delete l[c].data,s(l[c])))&&(o?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function o(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(Ct,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:kt.test(r)?lt.parseJSON(r):r}catch(a){}lt.data(e,n,r)}else r=t}return r}function s(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function p(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=lt.grep(e,function(e){return 1===e.nodeType});if(zt.test(t))return lt.filter(t,r,!n);t=lt.filter(t,r)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function d(e){var t=Ut.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=an.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,r=0;null!=(n=e[r]);r++)lt._data(n,"globalEval",!t||lt._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,r,i,a=lt._data(e),o=lt._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)lt.event.add(t,n,s[n][r])}o.data&&(o.data=lt.extend({},o.data))}}function b(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){i=lt._data(t);for(r in i.events)lt.removeEvent(t,r,i.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(h(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function y(e,n){var r,i,a=0,o=typeof e.getElementsByTagName!==V?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==V?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],r=e.childNodes||e;null!=(i=r[a]);a++)!n||lt.nodeName(i,n)?o.push(i):lt.merge(o,y(i,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],o):o}function _(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Cn.length;i--;)if(t=Cn[i]+n,t in e)return t;return r}function w(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function T(e,t){for(var n,r,i,a=[],o=0,s=e.length;s>o;o++)r=e[o],r.style&&(a[o]=lt._data(r,"olddisplay"),n=r.style.display,t?(a[o]||"none"!==n||(r.style.display=""),""===r.style.display&&w(r)&&(a[o]=lt._data(r,"olddisplay",j(r.nodeName)))):a[o]||(i=w(r),(n&&"none"!==n||!i)&&lt._data(r,"olddisplay",i?n:lt.css(r,"display"))));for(o=0;s>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[o]||"":"none"));return e}function k(e,t,n){var r=bn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function C(e,t,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=lt.css(e,n+kn[a],!0,i)),r?("content"===n&&(o-=lt.css(e,"padding"+kn[a],!0,i)),"margin"!==n&&(o-=lt.css(e,"border"+kn[a]+"Width",!0,i))):(o+=lt.css(e,"padding"+kn[a],!0,i),"padding"!==n&&(o+=lt.css(e,"border"+kn[a]+"Width",!0,i)));return o}function S(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,a=pn(e),o=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,a);if(0>=i||null==i){if(i=dn(e,t,a),(0>i||null==i)&&(i=e.style[t]),yn.test(i))return i;r=o&&(lt.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+C(e,t,n||(o?"border":"content"),r,a)+"px"}function j(e){var t=X,n=xn[e];return n||(n=E(e,t),"none"!==n&&n||(un=(un||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),un.detach()),xn[e]=n),n}function E(e,t){var n=lt(t.createElement(e)).appendTo(t.body),r=lt.css(n[0],"display");return n.remove(),r}function A(e,t,n,r){var i;if(lt.isArray(t))lt.each(t,function(t,i){n||jn.test(e)?r(e,i):A(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==lt.type(t))r(e,t);else for(i in t)A(e+"["+i+"]",t[i],n,r)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(ut)||[];if(lt.isFunction(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function L(e,n,r,i){function a(l){var c;return o[l]=!0,lt.each(e[l]||[],function(e,l){var u=l(n,r,i);return"string"!=typeof u||s||o[u]?s?!(c=u):t:(n.dataTypes.unshift(u),a(u),!1)}),c}var o={},s=e===Wn;return a(n.dataTypes[0])||!o["*"]&&a("*")}function O(e,n){var r,i,a=lt.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((a[i]?e:r||(r={}))[i]=n[i]);return r&&lt.extend(!0,e,r),e}function M(e,n,r){var i,a,o,s,l=e.contents,c=e.dataTypes,u=e.responseFields;for(s in u)s in r&&(n[u[s]]=r[s]);for(;"*"===c[0];)c.shift(),a===t&&(a=e.mimeType||n.getResponseHeader("Content-Type"));if(a)for(s in l)if(l[s]&&l[s].test(a)){c.unshift(s);break}if(c[0]in r)o=c[0];else{for(s in r){if(!c[0]||e.converters[s+" "+c[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==c[0]&&c.unshift(o),r[o]):t}function P(e,t){var n,r,i,a,o={},s=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(i in e.converters)o[i.toLowerCase()]=e.converters[i];for(;r=l[++s];)if("*"!==r){if("*"!==c&&c!==r){if(i=o[c+" "+r]||o["* "+r],!i)for(n in o)if(a=n.split(" "),a[1]===r&&(i=o[c+" "+a[0]]||o["* "+a[0]])){i===!0?i=o[n]:o[n]!==!0&&(r=a[0],l.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(u){return{state:"parsererror",error:i?u:"No conversion from "+c+" to "+r}}}c=r}return{state:"success",data:t}}function q(){try{return new e.XMLHttpRequest}catch(t){}}function D(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function I(){return setTimeout(function(){Kn=t}),Kn=lt.now()}function $(e,t){lt.each(t,function(t,n){for(var r=(ar[t]||[]).concat(ar["*"]),i=0,a=r.length;a>i;i++)if(r[i].call(e,t,n))return})}function B(e,t,n){var r,i,a=0,o=ir.length,s=lt.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Kn||I(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,a=1-r,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(a);return s.notifyWith(e,[c,a,n]),1>a&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kn||I(),duration:n.duration,tweens:[],createTween:function(t,n){var r=lt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(F(u,c.opts.specialEasing);o>a;a++)if(r=ir[a].call(c,e,u,c.opts))return r;return $(c,u),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(e,t){var n,r,i,a,o;for(i in e)if(r=lt.camelCase(i),a=t[r],n=e[i],lt.isArray(n)&&(a=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),o=lt.cssHooks[r],o&&"expand"in o){n=o.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=a)}else t[r]=a}function R(e,t,n){var r,i,a,o,s,l,c,u,p,d=this,f=e.style,h={},m=[],g=e.nodeType&&w(e);n.queue||(u=lt._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,p=u.empty.fire,u.empty.fire=function(){u.unqueued||p()}),u.unqueued++,d.always(function(){d.always(function(){u.unqueued--,lt.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==j(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",lt.support.shrinkWrapBlocks||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],tr.exec(o)){if(delete t[i],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(i)}if(a=m.length){s=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),l&&(s.hidden=!g),g?lt(e).show():d.done(function(){lt(e).hide()}),d.done(function(){var t;lt._removeData(e,"fxshow");for(t in h)lt.style(e,t,h[t])});for(i=0;a>i;i++)r=m[i],c=d.createTween(r,g?s[r]:0),h[r]=s[r]||lt.style(e,r),r in s||(s[r]=c.start,g&&(c.end=c.start,c.start="width"===r||"height"===r?1:0))}}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function z(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=kn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function W(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J,U,V=typeof t,X=e.document,G=e.location,Q=e.jQuery,Z=e.$,Y={},K=[],et="1.9.1",tt=K.concat,nt=K.push,rt=K.slice,it=K.indexOf,at=Y.toString,ot=Y.hasOwnProperty,st=et.trim,lt=function(e,t){return new lt.fn.init(e,t,U)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,dt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bt=/^-ms-/,yt=/-([\da-z])/gi,_t=function(e,t){return t.toUpperCase()},xt=function(e){(X.addEventListener||"load"===e.type||"complete"===X.readyState)&&(wt(),lt.ready())},wt=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",xt,!1),e.removeEventListener("load",xt,!1)):(X.detachEvent("onreadystatechange",xt),e.detachEvent("onload",xt))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:dt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),ft.test(i[1])&&lt.isPlainObject(n))for(i in n)lt.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(a=X.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return rt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,r,i,a,o,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||lt.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(a=arguments[l]))for(i in a)e=s[i],r=a[i],s!==r&&(u&&r&&(lt.isPlainObject(r)||(n=lt.isArray(r)))?(n?(n=!1,o=e&&lt.isArray(e)?e:[]):o=e&&lt.isPlainObject(e)?e:{},s[i]=lt.extend(u,o,r)):r!==t&&(s[i]=r));return s},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=Z),t&&e.jQuery===lt&&(e.jQuery=Q),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!X.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(J.resolveWith(X,[lt]),lt.fn.trigger&&lt(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[at.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!ot.call(e,"constructor")&&!ot.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||ot.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var r=ft.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=lt.buildFragment([e],t,i),i&&lt(i).remove(),lt.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=lt.trim(n),n&&ht.test(n.replace(gt,"@").replace(vt,"]").replace(mt,"")))?Function("return "+n)():(lt.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(a){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(bt,"ms-").replace(yt,_t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,a=0,o=e.length,s=n(e);if(r){if(s)for(;o>a&&(i=t.apply(e[a],r),i!==!1);a++);else for(a in e)if(i=t.apply(e[a],r),i===!1)break}else if(s)for(;o>a&&(i=t.call(e[a],a,e[a]),i!==!1);a++);else for(a in e)if(i=t.call(e[a],a,e[a]),i===!1)break;return e},trim:st&&!st.call("﻿ ")?function(e){return null==e?"":st.call(e)}:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?lt.merge(r,"string"==typeof e?[e]:e):nt.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(it)return it.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,a=0;if("number"==typeof r)for(;r>a;a++)e[i++]=n[a];else for(;n[a]!==t;)e[i++]=n[a++];return e.length=i,e},grep:function(e,t,n){var r,i=[],a=0,o=e.length;for(n=!!n;o>a;a++)r=!!t(e[a],a),n!==r&&i.push(e[a]);return i},map:function(e,t,r){var i,a=0,o=e.length,s=n(e),l=[];if(s)for(;o>a;a++)i=t(e[a],a,r),null!=i&&(l[l.length]=i);else for(a in e)i=t(e[a],a,r),null!=i&&(l[l.length]=i);return tt.apply([],l)},guid:1,proxy:function(e,n){var r,i,a;return"string"==typeof n&&(a=e[n],n=e,e=a),lt.isFunction(e)?(r=rt.call(arguments,2),i=function(){return e.apply(n||this,r.concat(rt.call(arguments)))},i.guid=e.guid=e.guid||lt.guid++,i):t},access:function(e,n,r,i,a,o,s){var l=0,c=e.length,u=null==r;if("object"===lt.type(r)){a=!0;for(l in r)lt.access(e,n,l,r[l],!0,o,s)}else if(i!==t&&(a=!0,lt.isFunction(i)||(s=!0),u&&(s?(n.call(e,i),n=null):(u=n,n=function(e,t,n){return u.call(lt(e),n)})),n))for(;c>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return a?e:u?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!J)if(J=lt.Deferred(),"complete"===X.readyState)setTimeout(lt.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",xt,!1),e.addEventListener("load",xt,!1);else{X.attachEvent("onreadystatechange",xt),e.attachEvent("onload",xt);var n=!1;try{n=null==e.frameElement&&X.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}wt(),lt.ready()}}()}return J.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()}),U=lt(X);var Tt={};lt.Callbacks=function(e){e="string"==typeof e?Tt[e]||r(e):lt.extend({},e);var n,i,a,o,s,l,c=[],u=!e.once&&[],p=function(t){for(i=e.memory&&t,a=!0,s=l||0,l=0,o=c.length,n=!0;c&&o>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}n=!1,c&&(u?u.length&&p(u.shift()):i?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;(function r(t){lt.each(t,function(t,n){var i=lt.type(n);"function"===i?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==i&&r(n)})})(arguments),n?o=c.length:i&&(l=t,p(i))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var r;(r=lt.inArray(t,c,r))>-1;)c.splice(r,1),n&&(o>=r&&o--,s>=r&&s--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=u=i=t,this},disabled:function(){return!c},lock:function(){return u=t,i||d.disable(),this
},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||a&&!u||(n?u.push(t):p(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,a){var o=a[0],s=lt.isFunction(e[t])&&e[t];i[a[1]](function(){var e=s&&s.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,r):r}},i={};return r.pipe=r.then,lt.each(t,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,a=rt.call(arguments),o=a.length,s=1!==o||e&&lt.isFunction(e.promise)?o:0,l=1===s?e:lt.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?rt.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(o>1)for(t=Array(o),n=Array(o),r=Array(o);o>i;i++)a[i]&&lt.isFunction(a[i].promise)?a[i].promise().done(c(i,r,a)).fail(l.reject).progress(c(i,n,t)):--s;return s||l.resolveWith(r,a),l.promise()}}),lt.support=function(){var t,n,r,i,a,o,s,l,c,u,p=X.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],!n||!r||!n.length)return{};a=X.createElement("select"),s=a.appendChild(X.createElement("option")),i=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==p.className,leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!i.value,optSelected:s.selected,enctype:!!X.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===X.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}i=X.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),o=X.createDocumentFragment(),o.appendChild(i),t.appendChecked=i.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||p.attributes[l].expando===!1;return p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===p.style.backgroundClip,lt(function(){var n,r,i,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=X.getElementsByTagName("body")[0];o&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=p.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===p.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(p,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(p,null)||{width:"4px"}).width,r=p.appendChild(X.createElement("div")),r.style.cssText=p.style.cssText=a,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==V&&(p.innerHTML="",p.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==p.offsetWidth,t.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(n),n=p=i=r=null)}),n=a=o=s=r=i=null,t}();var kt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ct=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!s(e)},data:function(e,t,n){return i(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var r,i,a=this[0],s=0,l=null;if(e===t){if(this.length&&(l=lt.data(a),1===a.nodeType&&!lt._data(a,"parsedAttrs"))){for(r=a.attributes;r.length>s;s++)i=r[s].name,i.indexOf("data-")||(i=lt.camelCase(i.slice(5)),o(a,i,l[i]));lt._data(a,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(n){return n===t?a?o(a,e,lt.data(a,e)):null:(this.each(function(){lt.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=lt._data(e,n),r&&(!i||lt.isArray(r)?i=lt._data(e,n,lt.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),r=n.length,i=n.shift(),a=lt._queueHooks(e,t),o=function(){lt.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),a.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,a=lt.Deferred(),o=this,s=this.length,l=function(){--i||a.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=lt._data(o[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),a.promise(n)}});var St,jt,Et=/[\t\r\n]/g,At=/\r/g,Nt=/^(?:input|select|textarea|button|object)$/i,Lt=/^(?:a|area)$/i,Ot=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Mt=/^(?:checked|selected)$/i,Pt=lt.support.getSetAttribute,qt=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,a,o=0,s=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):" ")){for(a=0;i=t[a++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=lt.trim(r)}return this},removeClass:function(e){var t,n,r,i,a,o=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):"")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?lt.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return lt.isFunction(e)?this.each(function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,a=0,o=lt(this),s=t,l=e.match(ut)||[];i=l[a++];)s=r?s:!o.hasClass(i),o[s?"addClass":"removeClass"](i);else(n===V||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Et," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,a=this[0];{if(arguments.length)return i=lt.isFunction(e),this.each(function(n){var a,o=lt(this);1===this.nodeType&&(a=i?e.call(this,n,o.val()):e,null==a?a="":"number"==typeof a?a+="":lt.isArray(a)&&(a=lt.map(a,function(e){return null==e?"":e+""})),r=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,a,"value")!==t||(this.value=a))});if(a)return r=lt.valHooks[a.type]||lt.valHooks[a.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(a,"value"))!==t?n:(n=a.value,"string"==typeof n?n.replace(At,""):null==n?"":n)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,a="select-one"===e.type||0>i,o=a?null:[],s=a?i+1:r.length,l=0>i?s:a?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),a)return t;o.push(t)}return o},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var i,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===V?lt.prop(e,n,r):(a=1!==s||!lt.isXMLDoc(e),a&&(n=n.toLowerCase(),i=lt.attrHooks[n]||(Ot.test(n)?jt:St)),r===t?i&&a&&"get"in i&&null!==(o=i.get(e,n))?o:(typeof e.getAttribute!==V&&(o=e.getAttribute(n)),null==o?t:o):null!==r?i&&a&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):(lt.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,a=t&&t.match(ut);if(a&&1===e.nodeType)for(;n=a[i++];)r=lt.propFix[n]||n,Ot.test(n)?!Pt&&Mt.test(n)?e[lt.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:lt.attr(e,n,""),e.removeAttribute(Pt?n:r)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!lt.isXMLDoc(e),o&&(n=lt.propFix[n]||n,a=lt.propHooks[n]),r!==t?a&&"set"in a&&(i=a.set(e,r,n))!==t?i:e[n]=r:a&&"get"in a&&null!==(i=a.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Nt.test(e.nodeName)||Lt.test(e.nodeName)&&e.href?0:t}}}}),jt={get:function(e,n){var r=lt.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),a="boolean"==typeof r?qt&&Pt?null!=i:Mt.test(n)?e[lt.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return a&&a.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):qt&&Pt||!Mt.test(n)?e.setAttribute(!Pt&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},qt&&Pt||(lt.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return lt.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return lt.nodeName(e,"input")?(e.defaultValue=n,t):St&&St.set(e,n,r)}}),Pt||(St=lt.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},lt.attrHooks.contenteditable={get:St.get,set:function(e,t,n){St.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,n){return lt.isArray(n)?e.checked=lt.inArray(lt(e).val(),n)>=0:t}})});var Dt=/^(?:input|select|textarea)$/i,It=/^key/,$t=/^(?:mouse|contextmenu)|click/,Bt=/^(?:focusinfocus|focusoutblur)$/,Ft=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,r,i,a){var o,s,l,c,u,p,d,f,h,m,g,v=lt._data(e);if(v){for(r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=lt.guid++),(s=v.events)||(s=v.events={}),(p=v.handle)||(p=v.handle=function(e){return typeof lt===V||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(p.elem,arguments)},p.elem=e),n=(n||"").match(ut)||[""],l=n.length;l--;)o=Ft.exec(n[l])||[],h=g=o[1],m=(o[2]||"").split(".").sort(),u=lt.event.special[h]||{},h=(a?u.delegateType:u.bindType)||h,u=lt.event.special[h]||{},d=lt.extend({type:h,origType:g,data:i,handler:r,guid:r.guid,selector:a,needsContext:a&&lt.expr.match.needsContext.test(a),namespace:m.join(".")},c),(f=s[h])||(f=s[h]=[],f.delegateCount=0,u.setup&&u.setup.call(e,i,m,p)!==!1||(e.addEventListener?e.addEventListener(h,p,!1):e.attachEvent&&e.attachEvent("on"+h,p))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?f.splice(f.delegateCount++,0,d):f.push(d),lt.event.global[h]=!0;e=null}},remove:function(e,t,n,r,i){var a,o,s,l,c,u,p,d,f,h,m,g=lt.hasData(e)&&lt._data(e);if(g&&(u=g.events)){for(t=(t||"").match(ut)||[""],c=t.length;c--;)if(s=Ft.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(p=lt.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,d=u[f]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=d.length;a--;)o=d[a],!i&&m!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(d.splice(a,1),o.selector&&d.delegateCount--,p.remove&&p.remove.call(e,o));l&&!d.length&&(p.teardown&&p.teardown.call(e,h,g.handle)!==!1||lt.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)lt.event.remove(e,f+t[c],n,r,!0);lt.isEmptyObject(u)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(n,r,i,a){var o,s,l,c,u,p,d,f=[i||X],h=ot.call(n,"type")?n.type:n,m=ot.call(n,"namespace")?n.namespace.split("."):[];if(l=p=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!Bt.test(h+lt.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),s=0>h.indexOf(":")&&"on"+h,n=n[lt.expando]?n:new lt.Event(h,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:lt.makeArray(r,[n]),u=lt.event.special[h]||{},a||!u.trigger||u.trigger.apply(i,r)!==!1)){if(!a&&!u.noBubble&&!lt.isWindow(i)){for(c=u.delegateType||h,Bt.test(c+h)||(l=l.parentNode);l;l=l.parentNode)f.push(l),p=l;p===(i.ownerDocument||X)&&f.push(p.defaultView||p.parentWindow||e)}for(d=0;(l=f[d++])&&!n.isPropagationStopped();)n.type=d>1?c:u.bindType||h,o=(lt._data(l,"events")||{})[n.type]&&lt._data(l,"handle"),o&&o.apply(l,r),o=s&&l[s],o&&lt.acceptData(l)&&o.apply&&o.apply(l,r)===!1&&n.preventDefault();if(n.type=h,!(a||n.isDefaultPrevented()||u._default&&u._default.apply(i.ownerDocument,r)!==!1||"click"===h&&lt.nodeName(i,"a")||!lt.acceptData(i)||!s||!i[h]||lt.isWindow(i))){p=i[s],p&&(i[s]=null),lt.event.triggered=h;try{i[h]()}catch(g){}lt.event.triggered=t,p&&(i[s]=p)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,r,i,a,o,s=[],l=rt.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],u=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=lt.event.handlers.call(this,e,c),n=0;(a=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,o=0;(i=a.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((lt.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,a,o,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(a=[],o=0;l>o;o++)i=n[o],r=i.selector+" ",a[r]===t&&(a[r]=i.needsContext?lt(r,this).index(c)>=0:lt.find(r,this,null,[c]).length),a[r]&&a.push(i);a.length&&s.push({elem:c,handlers:a})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[lt.expando])return e;var t,n,r,i=e.type,a=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=$t.test(i)?this.mouseHooks:It.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new lt.Event(a),t=r.length;t--;)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||X,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==X.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===X.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?lt.event.trigger(i,null,t):lt.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===V&&(e[r]=null),e.detachEvent(r,n))},lt.Event=function(e,n){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,n&&lt.extend(this,n),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,t):new lt.Event(e,n)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return(!i||i!==r&&!lt.contains(r,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;r&&!lt._data(r,"submitBubbles")&&(lt.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),t)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Dt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Dt.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return lt.event.remove(this,"._change"),!Dt.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,r,!0)},teardown:function(){0===--n&&X.removeEventListener(e,r,!0)}}}),lt.fn.extend({on:function(e,n,r,i,a){var o,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=c;else if(!i)return this;return 1===a&&(s=i,i=function(e){return lt().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,lt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=c),this.each(function(){lt.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?lt.event.trigger(e,n,r,!0):t}}),function(e,t){function n(e){return ht.test(e+"")}function r(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>k.cacheLength&&delete e[t.shift()],e[n]=r}}function i(e){return e[B]=!0,e}function a(e){var t=L.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function o(e,t,n,r){var i,a,o,s,l,c,u,f,h,m;if((t?t.ownerDocument||t:F)!==L&&N(t),t=t||L,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!M&&!r){if(i=mt.exec(e))if(o=i[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&I(t,a)&&a.id===o)return n.push(a),n}else{if(i[2])return Z.apply(n,Y.call(t.getElementsByTagName(e),0)),n;if((o=i[3])&&R.getByClassName&&t.getElementsByClassName)return Z.apply(n,Y.call(t.getElementsByClassName(o),0)),n}if(R.qsa&&!P.test(e)){if(u=!0,f=B,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=p(e),(u=t.getAttribute("id"))?f=u.replace(bt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+d(c[l]);h=ft.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return Z.apply(n,Y.call(h.querySelectorAll(m),0)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return _(e.replace(ot,"$1"),t,n,r)}function s(e,t){var n=t&&e,r=n&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function p(e,t){var n,r,i,a,s,l,c,u=J[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=k.preFilter;s;){(!n||(r=st.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=ct.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ot," ")}),s=s.slice(n.length));for(a in k.filter)!(r=dt[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?o.error(e):J(e,l).slice(0)}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,a=z++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,a)}:function(t,n,o){var s,l,c,u=H+" "+a;if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(c=t[B]||(t[B]={}),(l=c[r])&&l[0]===u){if((s=l[1])===!0||s===T)return s===!0}else if(l=c[r]=[u],l[1]=e(t,n,o)||T,l[1]===!0)return!0}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var a,o=[],s=0,l=e.length,c=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,r,i))&&(o.push(a),c&&t.push(s));return o}function g(e,t,n,r,a,o){return r&&!r[B]&&(r=g(r)),a&&!a[B]&&(a=g(a,o)),i(function(i,o,s,l){var c,u,p,d=[],f=[],h=o.length,g=i||y(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?g:m(g,d,e,s,l),b=n?a||(i?e:h||r)?[]:o:v;if(n&&n(v,b,s,l),r)for(c=m(b,f),r(c,[],s,l),u=c.length;u--;)(p=c[u])&&(b[f[u]]=!(v[f[u]]=p));if(i){if(a||e){if(a){for(c=[],u=b.length;u--;)(p=b[u])&&c.push(v[u]=p);a(null,b=[],c,l)}for(u=b.length;u--;)(p=b[u])&&(c=a?K.call(i,p):d[u])>-1&&(i[c]=!(o[c]=p))}}else b=m(b===o?b.splice(h,b.length):b),a?a(null,o,b,l):Z.apply(o,b)})}function v(e){for(var t,n,r,i=e.length,a=k.relative[e[0].type],o=a||k.relative[" "],s=a?1:0,l=f(function(e){return e===t},o,!0),c=f(function(e){return K.call(t,e)>-1},o,!0),u=[function(e,n,r){return!a&&(r||n!==A)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];i>s;s++)if(n=k.relative[e[s].type])u=[f(h(u),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;i>r&&!k.relative[e[r].type];r++);return g(s>1&&h(u),s>1&&d(e.slice(0,s-1)).replace(ot,"$1"),n,r>s&&v(e.slice(s,r)),i>r&&v(e=e.slice(r)),i>r&&d(e))}u.push(n)}return h(u)}function b(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(i,s,l,c,u){var p,d,f,h=[],g=0,v="0",b=i&&[],y=null!=u,_=A,x=i||a&&k.find.TAG("*",u&&s.parentNode||s),w=H+=null==_?1:Math.random()||.1;for(y&&(A=s!==L&&s,T=n);null!=(p=x[v]);v++){if(a&&p){for(d=0;f=e[d++];)if(f(p,s,l)){c.push(p);break}y&&(H=w,T=++n)}r&&((p=!f&&p)&&g--,i&&b.push(p))}if(g+=v,r&&v!==g){for(d=0;f=t[d++];)f(b,h,s,l);if(i){if(g>0)for(;v--;)b[v]||h[v]||(h[v]=Q.call(c));h=m(h)}Z.apply(c,h),y&&!i&&h.length>0&&g+t.length>1&&o.uniqueSort(c)}return y&&(H=w,A=_),b};return r?i(s):s}function y(e,t,n){for(var r=0,i=t.length;i>r;r++)o(e,t[r],n);return n}function _(e,t,n,r){var i,a,o,s,l,c=p(e);if(!r&&1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&9===t.nodeType&&!M&&k.relative[a[1].type]){if(t=k.find.ID(o.matches[0].replace(_t,xt),t)[0],!t)return n;e=e.slice(a.shift().value.length)}for(i=dt.needsContext.test(e)?0:a.length;i--&&(o=a[i],!k.relative[s=o.type]);)if((l=k.find[s])&&(r=l(o.matches[0].replace(_t,xt),ft.test(a[0].type)&&t.parentNode||t))){if(a.splice(i,1),e=r.length&&d(a),!e)return Z.apply(n,Y.call(r,0)),n;break}}return j(e,c)(r,t,M,n,ft.test(e)),n}function x(){}var w,T,k,C,S,j,E,A,N,L,O,M,P,q,D,I,$,B="sizzle"+-new Date,F=e.document,R={},H=0,z=0,W=r(),J=r(),U=r(),V=typeof t,X=1<<31,G=[],Q=G.pop,Z=G.push,Y=G.slice,K=G.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),rt="([*^$|!~]?=)",it="\\["+et+"*("+tt+")"+et+"*(?:"+rt+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",at=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+it.replace(3,8)+")*)|.*)\\)|)",ot=RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=RegExp("^"+et+"*,"+et+"*"),ct=RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ut=RegExp(at),pt=RegExp("^"+nt+"$"),dt={ID:RegExp("^#("+tt+")"),CLASS:RegExp("^\\.("+tt+")"),NAME:RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:RegExp("^("+tt.replace("w","w*")+")"),ATTR:RegExp("^"+it),PSEUDO:RegExp("^"+at),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ft=/[\x20\t\r\n\f]*[+~]/,ht=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,bt=/'|\\/g,yt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,_t=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,xt=function(e,t){var n="0x"+t-65536;
return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{Y.call(F.documentElement.childNodes,0)[0].nodeType}catch(wt){Y=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}S=o.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=o.setDocument=function(e){var r=e?e.ownerDocument||e:F;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,O=r.documentElement,M=S(r),R.tagNameNoComments=a(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),R.attributes=a(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),R.getByClassName=a(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),R.getByName=a(function(e){e.id=B+0,e.innerHTML="<a name='"+B+"'></a><div name='"+B+"'></div>",O.insertBefore(e,O.firstChild);var t=r.getElementsByName&&r.getElementsByName(B).length===2+r.getElementsByName(B+0).length;return R.getIdNotName=!r.getElementById(B),O.removeChild(e),t}),k.attrHandle=a(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==V&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},R.getIdNotName?(k.find.ID=function(e,t){if(typeof t.getElementById!==V&&!M){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){return e.getAttribute("id")===t}}):(k.find.ID=function(e,n){if(typeof n.getElementById!==V&&!M){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==V&&r.getAttributeNode("id").value===e?[r]:t:[]}},k.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=R.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==V?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},k.find.NAME=R.getByName&&function(e,n){return typeof n.getElementsByName!==V?n.getElementsByName(name):t},k.find.CLASS=R.getByClassName&&function(e,n){return typeof n.getElementsByClassName===V||M?t:n.getElementsByClassName(e)},q=[],P=[":focus"],(R.qsa=n(r.querySelectorAll))&&(a(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||P.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||P.push(":checked")}),a(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&P.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(R.matchesSelector=n(D=O.matchesSelector||O.mozMatchesSelector||O.webkitMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&a(function(e){R.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),q.push("!=",at)}),P=RegExp(P.join("|")),q=RegExp(q.join("|")),I=n(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=O.compareDocumentPosition?function(e,t){var n;return e===t?(E=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===r||I(F,e)?-1:t===r||I(F,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,i=0,a=e.parentNode,o=t.parentNode,l=[e],c=[t];if(e===t)return E=!0,0;if(!a||!o)return e===r?-1:t===r?1:a?-1:o?1:0;if(a===o)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[i]===c[i];)i++;return i?s(l[i],c[i]):l[i]===F?-1:c[i]===F?1:0},E=!1,[0,0].sort($),R.detectDuplicates=E,L):L},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==L&&N(e),t=t.replace(yt,"='$1']"),!(!R.matchesSelector||M||q&&q.test(t)||P.test(t)))try{var n=D.call(e,t);if(n||R.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return o(t,L,null,[e]).length>0},o.contains=function(e,t){return(e.ownerDocument||e)!==L&&N(e),I(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==L&&N(e),M||(t=t.toLowerCase()),(n=k.attrHandle[t])?n(e):M||R.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},o.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var t,n=[],r=1,i=0;if(E=!R.detectDuplicates,e.sort($),E){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},C=o.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=C(t);return n},k=o.selectors={cacheLength:50,createPseudo:i,match:dt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_t,xt),e[3]=(e[4]||e[5]||"").replace(_t,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return dt.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ut.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(_t,xt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=W[e+" "];return t||(t=RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&W(e,function(e){return t.test(e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=o.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,p,d,f,h,m=a!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(a){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?g.firstChild:g.lastChild],o&&b){for(u=g[B]||(g[B]={}),c=u[e]||[],f=c[0]===H&&c[1],d=c[0]===H&&c[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(d=f=0)||h.pop();)if(1===p.nodeType&&++d&&p===t){u[e]=[H,f,d];break}}else if(b&&(c=(t[B]||(t[B]={}))[e])&&c[0]===H)d=c[1];else for(;(p=++f&&p&&p[m]||(d=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++d||(b&&((p[B]||(p[B]={}))[e]=[H,d]),p!==t)););return d-=i,d===r||0===d%r&&d/r>=0}}},PSEUDO:function(e,t){var n,r=k.pseudos[e]||k.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return r[B]?r(t):r.length>1?(n=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var i,a=r(e,t),o=a.length;o--;)i=K.call(e,a[o]),e[i]=!(n[i]=a[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:i(function(e){var t=[],n=[],r=j(e.replace(ot,"$1"));return r[B]?i(function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),!n.pop()}}),has:i(function(e){return function(t){return o(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(_t,xt).toLowerCase(),function(t){var n;do if(n=M?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=c(w);j=o.compile=function(e,t){var n,r=[],i=[],a=U[e+" "];if(!a){for(t||(t=p(e)),n=t.length;n--;)a=v(t[n]),a[B]?r.push(a):i.push(a);a=U(e,b(i,r))}return a},k.pseudos.nth=k.pseudos.eq,k.filters=x.prototype=k.pseudos,k.setFilters=new x,N(),o.attr=lt.attr,lt.find=o,lt.expr=o.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=o.uniqueSort,lt.text=o.getText,lt.isXMLDoc=o.isXML,lt.contains=o.contains}(e);var Rt=/Until$/,Ht=/^(?:parents|prev(?:Until|All))/,zt=/^.[^:#\[\.,]*$/,Wt=lt.expr.match.needsContext,Jt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(lt(e).filter(function(){for(t=0;i>t;t++)if(lt.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)lt.find(e,this[t],n);return n=this.pushStack(i>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(p(this,e,!1))},filter:function(e){return this.pushStack(p(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Wt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,a=[],o=Wt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:lt.find.matchesSelector(n,e)){a.push(n);break}n=n.parentNode}return this.pushStack(a.length>1?lt.unique(a):a)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),r=lt.merge(this.get(),n);return this.pushStack(lt.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,r){var i=lt.map(this,t,n);return Rt.test(e)||(r=n),r&&"string"==typeof r&&(i=lt.filter(r,i)),i=this.length>1&&!Jt[e]?lt.unique(i):i,this.length>1&&Ht.test(e)&&(i=i.reverse()),this.pushStack(i)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,n,r){for(var i=[],a=e[n];a&&9!==a.nodeType&&(r===t||1!==a.nodeType||!lt(a).is(r));)1===a.nodeType&&i.push(a),a=a[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vt=/ jQuery\d+="(?:null|\d+)"/g,Xt=RegExp("<(?:"+Ut+")[\\s/>]","i"),Gt=/^\s+/,Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zt=/<([\w:]+)/,Yt=/<tbody/i,Kt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,an=/^true\/(.*)/,on=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=d(X),cn=ln.appendChild(X.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(y(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&g(y(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(y(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Vt,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&Xt.test(e)||!lt.support.leadingWhitespace&&Gt.test(e)||sn[(Zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Qt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(lt.cleanData(y(n,!1)),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=tt.apply([],e);var i,a,o,s,l,c,u=0,p=this.length,d=this,g=p-1,v=e[0],b=lt.isFunction(v);if(b||!(1>=p||"string"!=typeof v||lt.support.checkClone)&&nn.test(v))return this.each(function(i){var a=d.eq(i);b&&(e[0]=v.call(this,i,n?a.html():t)),a.domManip(e,n,r)});if(p&&(c=lt.buildFragment(e,this[0].ownerDocument,!1,this),i=c.firstChild,1===c.childNodes.length&&(c=i),i)){for(n=n&&lt.nodeName(i,"tr"),s=lt.map(y(c,"script"),h),o=s.length;p>u;u++)a=c,u!==g&&(a=lt.clone(a,!0,!0),o&&lt.merge(s,y(a,"script"))),r.call(n&&lt.nodeName(this[u],"table")?f(this[u],"tbody"):this[u],a,u);if(o)for(l=s[s.length-1].ownerDocument,lt.map(s,m),u=0;o>u;u++)a=s[u],rn.test(a.type||"")&&!lt._data(a,"globalEval")&&lt.contains(l,a)&&(a.src?lt.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((a.text||a.textContent||a.innerHTML||"").replace(on,"")));c=i=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,r=0,i=[],a=lt(e),o=a.length-1;o>=r;r++)n=r===o?this:this.clone(!0),lt(a[r])[t](n),nt.apply(i,n.get());return this.pushStack(i)}}),lt.extend({clone:function(e,t,n){var r,i,a,o,s,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Xt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(a=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(r=y(a),s=y(e),o=0;null!=(i=s[o]);++o)r[o]&&b(i,r[o]);if(t)if(n)for(s=s||y(e),r=r||y(a),o=0;null!=(i=s[o]);o++)v(i,r[o]);else v(e,a);return r=y(a,"script"),r.length>0&&g(r,!l&&y(e,"script")),r=s=i=null,a},buildFragment:function(e,t,n,r){for(var i,a,o,s,l,c,u,p=e.length,f=d(t),h=[],m=0;p>m;m++)if(a=e[m],a||0===a)if("object"===lt.type(a))lt.merge(h,a.nodeType?[a]:a);else if(Kt.test(a)){for(s=s||f.appendChild(t.createElement("div")),l=(Zt.exec(a)||["",""])[1].toLowerCase(),u=sn[l]||sn._default,s.innerHTML=u[1]+a.replace(Qt,"<$1></$2>")+u[2],i=u[0];i--;)s=s.lastChild;if(!lt.support.leadingWhitespace&&Gt.test(a)&&h.push(t.createTextNode(Gt.exec(a)[0])),!lt.support.tbody)for(a="table"!==l||Yt.test(a)?"<table>"!==u[1]||Yt.test(a)?0:s:s.firstChild,i=a&&a.childNodes.length;i--;)lt.nodeName(c=a.childNodes[i],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(lt.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(a));for(s&&f.removeChild(s),lt.support.appendChecked||lt.grep(y(h,"input"),_),m=0;a=h[m++];)if((!r||-1===lt.inArray(a,r))&&(o=lt.contains(a.ownerDocument,a),s=y(f.appendChild(a),"script"),o&&g(s),n))for(i=0;a=s[i++];)rn.test(a.type||"")&&n.push(a);return s=null,f},cleanData:function(e,t){for(var n,r,i,a,o=0,s=lt.expando,l=lt.cache,c=lt.support.deleteExpando,u=lt.event.special;null!=(n=e[o]);o++)if((t||lt.acceptData(n))&&(i=n[s],a=i&&l[i])){if(a.events)for(r in a.events)u[r]?lt.event.remove(n,r):lt.removeEvent(n,r,a.handle);l[i]&&(delete l[i],c?delete n[s]:typeof n.removeAttribute!==V?n.removeAttribute(s):n[s]=null,K.push(i))}}});var un,pn,dn,fn=/alpha\([^)]*\)/i,hn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,bn=RegExp("^("+ct+")(.*)$","i"),yn=RegExp("^("+ct+")(?!px)[a-z%]+$","i"),_n=RegExp("^([+-])=("+ct+")","i"),xn={BODY:"block"},wn={position:"absolute",visibility:"hidden",display:"block"},Tn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],Cn=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,r){var i,a,o={},s=0;if(lt.isArray(n)){for(a=pn(e),i=n.length;i>s;s++)o[n[s]]=lt.css(e,n[s],!1,a);return o}return r!==t?lt.style(e,n,r):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:w(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=dn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s,l=lt.camelCase(n),c=e.style;if(n=lt.cssProps[l]||(lt.cssProps[l]=x(c,l)),s=lt.cssHooks[n]||lt.cssHooks[l],r===t)return s&&"get"in s&&(a=s.get(e,!1,i))!==t?a:c[n];if(o=typeof r,"string"===o&&(a=_n.exec(r))&&(r=(a[1]+1)*a[2]+parseFloat(lt.css(e,n)),o="number"),!(null==r||"number"===o&&isNaN(r)||("number"!==o||lt.cssNumber[l]||(r+="px"),lt.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{c[n]=r}catch(u){}}},css:function(e,n,r,i){var a,o,s,l=lt.camelCase(n);return n=lt.cssProps[l]||(lt.cssProps[l]=x(e.style,l)),s=lt.cssHooks[n]||lt.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=dn(e,n,i)),"normal"===o&&n in Tn&&(o=Tn[n]),""===r||r?(a=parseFloat(o),r===!0||lt.isNumeric(a)?a||0:o):o},swap:function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];i=n.apply(e,r||[]);for(a in t)e.style[a]=o[a];return i}}),e.getComputedStyle?(pn=function(t){return e.getComputedStyle(t,null)},dn=function(e,n,r){var i,a,o,s=r||pn(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,n)),yn.test(l)&&vn.test(n)&&(i=c.width,a=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=i,c.minWidth=a,c.maxWidth=o)),l}):X.documentElement.currentStyle&&(pn=function(e){return e.currentStyle},dn=function(e,n,r){var i,a,o,s=r||pn(e),l=s?s[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),yn.test(l)&&!mn.test(n)&&(i=c.left,a=e.runtimeStyle,o=a&&a.left,o&&(a.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=i,o&&(a.left=o)),""===l?"auto":l}),lt.each(["height","width"],function(e,n){lt.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&gn.test(lt.css(e,"display"))?lt.swap(e,wn,function(){return S(e,n,i)}):S(e,n,i):t},set:function(e,t,r){var i=r&&pn(e);return k(e,t,r?C(e,n,r,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,i),i):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return hn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(a.replace(fn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=fn.test(a)?a.replace(fn,i):a+" "+i)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,n){return n?lt.swap(e,{display:"inline-block"},dn,[e,"marginRight"]):t}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,n){lt.cssHooks[n]={get:function(e,r){return r?(r=dn(e,n),yn.test(r)?lt(e).position()[n]+"px":r):t}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+kn[r]+t]=a[r]||a[r-2]||a[0];return i}},vn.test(e)||(lt.cssHooks[e+t].set=k)});var Sn=/%20/g,jn=/\[\]$/,En=/\r?\n/g,An=/^(?:submit|button|image|reset|file)$/i,Nn=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&Nn.test(this.nodeName)&&!An.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(En,"\r\n")}}):{name:t.name,value:n.replace(En,"\r\n")}}).get()}}),lt.param=function(e,n){var r,i=[],a=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){a(this.name,this.value)});else for(r in e)A(r,e[r],n,a);return i.join("&").replace(Sn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Ln,On,Mn=lt.now(),Pn=/\?/,qn=/#.*$/,Dn=/([?&])_=[^&]*/,In=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$n=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bn=/^(?:GET|HEAD)$/,Fn=/^\/\//,Rn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Hn=lt.fn.load,zn={},Wn={},Jn="*/".concat("*");try{On=G.href}catch(Un){On=X.createElement("a"),On.href="",On=On.href}Ln=Rn.exec(On.toLowerCase())||[],lt.fn.load=function(e,n,r){if("string"!=typeof e&&Hn)return Hn.apply(this,arguments);var i,a,o,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&lt.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(i?lt("<div>").append(lt.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,a||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,r,i,a){return lt.isFunction(r)&&(a=a||i,i=r,r=t),lt.ajax({url:e,type:n,dataType:a,data:r,success:i})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:On,type:"GET",isLocal:$n.test(Ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,lt.ajaxSettings),t):O(lt.ajaxSettings,e)},ajaxPrefilter:N(zn),ajaxTransport:N(Wn),ajax:function(e,n){function r(e,n,r,i){var a,p,b,y,x,T=n;2!==_&&(_=2,l&&clearTimeout(l),u=t,s=i||"",w.readyState=e>0?4:0,r&&(y=M(d,w,r)),e>=200&&300>e||304===e?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(lt.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(lt.etag[o]=x)),204===e?(a=!0,T="nocontent"):304===e?(a=!0,T="notmodified"):(a=P(d,y),T=a.state,p=a.data,b=a.error,a=!b)):(b=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(n||T)+"",a?m.resolveWith(f,[p,T,w]):m.rejectWith(f,[w,T,b]),w.statusCode(v),v=t,c&&h.trigger(a?"ajaxSuccess":"ajaxError",[w,d,a?p:b]),g.fireWith(f,[w,T]),c&&(h.trigger("ajaxComplete",[w,d]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,a,o,s,l,c,u,p,d=lt.ajaxSetup({},n),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?lt(f):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=d.statusCode||{},b={},y={},_=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!p)for(p={};t=In.exec(s);)p[t[1].toLowerCase()]=t[2];t=p[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=y[n]=y[n]||e,b[e]=t),this},overrideMimeType:function(e){return _||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>_)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),r(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||On)+"").replace(qn,"").replace(Fn,Ln[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=lt.trim(d.dataType||"*").toLowerCase().match(ut)||[""],null==d.crossDomain&&(i=Rn.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Ln[1]&&i[2]===Ln[2]&&(i[3]||("http:"===i[1]?80:443))==(Ln[3]||("http:"===Ln[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=lt.param(d.data,d.traditional)),L(zn,d,n,w),2===_)return w;c=d.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Bn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Pn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Dn.test(o)?o.replace(Dn,"$1_="+Mn++):o+(Pn.test(o)?"&":"?")+"_="+Mn++)),d.ifModified&&(lt.lastModified[o]&&w.setRequestHeader("If-Modified-Since",lt.lastModified[o]),lt.etag[o]&&w.setRequestHeader("If-None-Match",lt.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Jn+"; q=0.01":""):d.accepts["*"]);for(a in d.headers)w.setRequestHeader(a,d.headers[a]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===_))return w.abort();x="abort";for(a in{success:1,error:1,complete:1})w[a](d[a]);if(u=L(Wn,d,n,w)){w.readyState=1,c&&h.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{_=1,u.send(b,r)}catch(T){if(!(2>_))throw T;r(-1,T)}}else r(-1,"No Transport");return w},getScript:function(e,n){return lt.get(e,t,n,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=X.head||lt("head")[0]||X.documentElement;
return{send:function(t,i){n=X.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Vn=[],Xn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vn.pop()||lt.expando+"_"+Mn++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,r,i){var a,o,s,l=n.jsonp!==!1&&(Xn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(a=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Xn,"$1"+a):n.jsonp!==!1&&(n.url+=(Pn.test(n.url)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||lt.error(a+" was not called"),s[0]},n.dataTypes[0]="json",o=e[a],e[a]=function(){s=arguments},i.always(function(){e[a]=o,n[a]&&(n.jsonpCallback=r.jsonpCallback,Vn.push(a)),s&&lt.isFunction(o)&&o(s[0]),s=o=t}),"script"):t});var Gn,Qn,Zn=0,Yn=e.ActiveXObject&&function(){var e;for(e in Gn)Gn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&q()||D()}:q,Qn=lt.ajaxSettings.xhr(),lt.support.cors=!!Qn&&"withCredentials"in Qn,Qn=lt.support.ajax=!!Qn,Qn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var r;return{send:function(i,a){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(c){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,c,u,p;try{if(r&&(i||4===l.readyState))if(r=t,o&&(l.onreadystatechange=lt.noop,Yn&&delete Gn[o]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{u=l.statusText}catch(d){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(f){i||a(-1,f)}p&&a(s,u,p,c)},n.async?4===l.readyState?setTimeout(r):(o=++Zn,Yn&&(Gn||(Gn={},lt(e).unload(Yn)),Gn[o]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Kn,er,tr=/^(?:toggle|show|hide)$/,nr=RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),rr=/queueHooks$/,ir=[R],ar={"*":[function(e,t){var n,r,i=this.createTween(e,t),a=nr.exec(t),o=i.cur(),s=+o||0,l=1,c=20;if(a){if(n=+a[2],r=a[3]||(lt.cssNumber[e]?"":"px"),"px"!==r&&s){s=lt.css(i.elem,e,!0)||n||1;do l=l||".5",s/=l,lt.style(i.elem,e,s+r);while(l!==(l=i.cur()/o)&&1!==l&&--c)}i.unit=r,i.start=s,i.end=a[1]?s+(a[1]+1)*n:n}return i}]};lt.Animation=lt.extend(B,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],ar[n]=ar[n]||[],ar[n].unshift(t)},prefilter:function(e,t){t?ir.unshift(e):ir.push(e)}}),lt.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(lt.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(z(t,!0),e,r,i)}}),lt.fn.extend({fadeTo:function(e,t,n,r){return this.filter(w).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=lt.isEmptyObject(e),a=lt.speed(t,n,r),o=function(){var t=B(this,lt.extend({},e),a);o.finish=function(){t.stop(!0)},(i||lt._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=lt.timers,o=lt._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&rr.test(n)&&i(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(r),t=!1,a.splice(n,1));(t||!r)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=lt.timers,o=r?r.length:0;for(n.finish=!0,lt.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),lt.speed=function(e,t,n){var r=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return r.duration=lt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in lt.fx.speeds?lt.fx.speeds[r.duration]:lt.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){lt.isFunction(r.old)&&r.old.call(this),r.queue&&lt.dequeue(this,r.queue)},r},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=H.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,r=0;for(Kn=lt.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||lt.fx.stop(),Kn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){er||(er=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(er),er=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o)return n=o.documentElement,lt.contains(n,a)?(typeof a.getBoundingClientRect!==V&&(i=a.getBoundingClientRect()),r=W(o),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},lt.offset={setOffset:function(e,t,n){var r=lt.css(e,"position");"static"===r&&(e.style.position="relative");var i,a,o=lt(e),s=o.offset(),l=lt.css(e,"top"),c=lt.css(e,"left"),u=("absolute"===r||"fixed"===r)&&lt.inArray("auto",[l,c])>-1,p={},d={};u?(d=o.position(),i=d.top,a=d.left):(i=parseFloat(l)||0,a=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+i),null!=t.left&&(p.left=t.left-s.left+a),"using"in t?t.using.call(e,p):o.css(p)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===lt.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(r,"marginTop",!0),left:t.left-n.left-lt.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||X.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||X.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);lt.fn[e]=function(i){return lt.access(this,function(e,i,a){var o=W(e);return a===t?o?n in o?o[n]:o.document.documentElement[i]:e[i]:(o?o.scrollTo(r?lt(o).scrollLeft():a,r?a:lt(o).scrollTop()):e[i]=a,t)},e,i,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){lt.fn[i]=function(i,a){var o=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||a===!0?"margin":"border");return lt.access(this,function(n,r,i){var a;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):i===t?lt.css(n,r,s):lt.style(n,r,i,s)},n,o?i:t,o,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})}(window),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,a=[];a.push;var o=a.slice;a.splice,t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,a=n.once(function(){i.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,r)},off:function(e,t,r){var i,a,o,s,l,u,p,d;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;for(s=e?[e]:n.keys(this._events),l=0,u=s.length;u>l;l++)if(e=s[l],o=this._events[e]){if(this._events[e]=i=[],t||r)for(p=0,d=o.length;d>p;p++)a=o[p],(t&&t!==a.callback&&t!==a.callback._callback||r&&r!==a.context)&&i.push(a);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&u(n,t),r&&u(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var a=!t&&!r;r||"object"!=typeof t||(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(a||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){for(var a=n.split(l),o=0,s=a.length;s>o;o++)e[t].apply(e,[a[o]].concat(r));return!1}return!0},u=function(e,t){var n,r=-1,i=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;i>++r;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;i>++r;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;i>++r;)(n=e[r]).callback.call(n.ctx,a,o);return;case 3:for(;i>++r;)(n=e[r]).callback.call(n.ctx,a,o,s);return;default:for(;i>++r;)(n=e[r]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){s[t]=function(t,r,i){var a=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return a[o]=t,i||"object"!=typeof r||(i=this),t[e](r,i,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(t,s);var d=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,r){var i,a,o,s,l,c,u,p;if(null==e)return this;if("object"==typeof e?(a=e,r=t):(a={})[e]=t,r||(r={}),!this._validate(a,r))return!1;o=r.unset,l=r.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),p=this.attributes,u=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(i in a)t=a[i],n.isEqual(p[i],t)||s.push(i),n.isEqual(u[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete p[i]:p[i]=t;if(!l){s.length&&(this._pending=r);for(var d=0,f=s.length;f>d;d++)this.trigger("change:"+s[d],this,p[s[d]],r)}if(c)return this;if(!l)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var a in e)n.isEqual(i[a],t=e[a])||((r||(r={}))[a]=t);return r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(r&&r(t,n,e),t.trigger("sync",t,n,e),void 0):!1},I(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,a,o,s=this.attributes;if(null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},s,i)),void 0===r.parse&&(r.parse=!0);var l=this,c=r.success;return r.success=function(e){l.attributes=s;var t=l.parse(e,r);return r.wait&&(t=n.extend(i||{},t)),n.isObject(t)&&!l.set(t,r)?!1:(c&&c(l,e,r),l.trigger("sync",l,e,r),void 0)},I(this,r),a=this.isNew()?"create":r.patch?"patch":"update","patch"===a&&(r.attrs=i),o=this.sync(a,this,r),i&&r.wait&&(this.attributes=s),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;I(this,e);var a=this.sync("delete",this,e);return e.wait||i(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||D();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];n.each(f,function(e){d.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var h=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(h.prototype,s,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,g))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,a,o,s;for(i=0,a=e.length;a>i;i++)s=e[i]=this.get(e[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,t.silent||(t.index=o,s.trigger("remove",s,this,t)),this._removeReference(s,t));return r?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,a,o,s,l,c,u,p=t.at,f=this.model,h=this.comparator&&null==p&&t.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],b=[],y={},_=t.add,x=t.merge,w=t.remove,T=!h&&_&&w?[]:!1;for(i=0,a=e.length;a>i;i++){if(l=e[i]||{},o=l instanceof d?s=l:l[f.prototype.idAttribute||"id"],c=this.get(o))w&&(y[c.cid]=!0),x&&(l=l===s?s.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),h&&!u&&c.hasChanged(g)&&(u=!0)),e[i]=c;else if(_){if(s=e[i]=this._prepareModel(l,t),!s)continue;v.push(s),this._addReference(s,t)}s=c||s,!T||!s.isNew()&&y[s.id]||T.push(s),y[s.id]=!0}if(w){for(i=0,a=this.length;a>i;++i)y[(s=this.models[i]).cid]||b.push(s);b.length&&this.remove(b,t)}if(v.length||T&&T.length)if(h&&(u=!0),this.length+=v.length,null!=p)for(i=0,a=v.length;a>i;i++)this.models.splice(p+i,0,v[i]);else{T&&(this.models.length=0);var k=T||v;for(i=0,a=k.length;a>i;i++)this.models.push(k[i])}if(u&&this.sort({silent:!0}),!t.silent){for(i=0,a=v.length;a>i;i++)(s=v[i]).trigger("add",s,this,t);(u||T&&T.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){h.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var b=["groupBy","countBy","sortBy","indexBy"];n.each(b,function(e){h.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var y=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(y.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[e[t]]),r){var i=t.match(_),a=i[1],o=i[2];r=n.bind(r,this),a+=".delegateEvents"+this.cid,""===o?this.$el.on(a,r):this.$el.on(a,o,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}}}),t.sync=function(e,r,i){var a=T[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:a,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||D()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",i.emulateJSON&&(o.data._method=a);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),s?s.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1),"PATCH"===o.type&&w&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,l,i),l};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var k=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,j=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,s,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var a=this;return t.history.route(e,function(n){var o=a._extractParameters(e,n);a.execute(i,o),a.trigger.apply(a,["route:"+r].concat(o)),a.trigger("route",r,o),t.history.trigger("route",a,r,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(C,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/?]+)"}).replace(j,"([^?]*?)"),RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,O=/msie [\w.]+/,M=/\/$/,P=/#.*$/;A.started=!1,n.extend(A.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(M,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(N,"")},start:function(e){if(A.started)throw Error("Backbone.history has already been started");A.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,a=O.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);if(this.root=("/"+this.root+"/").replace(L,"/"),a&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(N,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!A.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(P,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new A;var q=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var a=function(){this.constructor=r};return a.prototype=i.prototype,r.prototype=new a,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};d.extend=h.extend=k.extend=y.extend=A.extend=q;var D=function(){throw Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),define("_mixins",["underscore"],function(e){return e.mixin({compactObject:function(t){return e.each(t,function(e,n){e||delete t[n]}),t},exists:function(e){return null!=e},truthy:function(t){return t!==!1&&e.exists(t)},cat:function(){var t=e.first(arguments);return e.exists(t)?t.concat.apply(t,e.rest(arguments)):[]},construct:function(t,n){return e.cat([t],e.toArray(n))},dispatch:function(){var t=e.toArray(arguments),n=t.length;return function(r){var i,a,o=0,s=e.rest(arguments);for(o;n>o;o++)if(a=t[o],i=a.apply(a,e.construct(r,s)),e.exists(i))return i;return i}},stringToObject:function(t,n,r){var i=n||"|",a=r||":";return e.chain(t.split(i)).map(function(e){return e.split(a)}).object().value()},getAttr:function(e,t){return"latlng"===t&&e.latlngObj?e.latlngObj:e.attributes&&e.attributes[t]||e[t]},setAttr:function(t,n,r){return t.attributes&&t.set(n,r)||e.extend(t,n)},getNext:function(t,n){var r;return e.isString(n)&&(n=e.chain(t).find(function(e){return e.id===n}).value()),e.isObject(n)&&(r=e.indexOf(t,n)),e.isEmpty(n)?e.first(t):r===t.length-1?e.first(t):t[++r]},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},capitaliseFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}),e}),define("scripts/filter",["_mixins"],function(e){function t(t){return e.map(t,function(t){var n=t.filter||t;return e.isFunction(n)?n:e.isString(n)?a(n):void 0})}function n(n,i,a){var o,s=[];return e.exists(i)&&e.isArray(i)?(e.isArray(a)||(a=[a]),r.term=n&&n.toLowerCase(),o=t(a),e.each(o,function(t,n){s[n]=e.filter(i,t)}),e.chain(s).flatten().uniq().value()):[]}var r={term:""},i={all:function(){return!0},tag_exact:function(t){var n,i=e.getAttr(t,"tags");if(!e.isEmpty(i))return n=e.chain(i.split(",")).map(function(t){return e.trim(t)}).filter(function(e){return e.toLowerCase()===r.term.toLowerCase()}).value(),!e.isEmpty(n)},defaultFilter:["tags","keywords","address1","name"]},a=e.memoize(function(t){return function(n){var i,a;return(i=e.getAttr(n,t)&&e.getAttr(n,t).toLowerCase())?(a=e.chain(i.split(" ")).reject(function(t){return e.contains(["and","the","an","at","for"],t)}).value(),e.exists(i)&&e.some(a,function(i){var a=0===i.indexOf(r.term);return a===!0&&e.setAttr(n,{resultMatch:{val:e.getAttr(n,t),attr:t,word:i}}),a})):!1}});return{filter:n,getQuery:function(){return r},getFilter:function(e){return i[e]||e}}}),define("scripts/config",["underscore","scripts/filter"],function(){var e="app/images/icons/";return{env:{paths:{base:"/",icons:{base:e,map:e+"map/"},data:{jsonp:"../app/data/data-%campus%.json"}},pageurl:window.location.origin+window.location.pathname},defaults:{theTruth:{cmd:"",iconstrategy:"default",labelstrategy:"default",mapcenteroffset:"default",maptype:"plain",panelanimations:!1,panels:"",parking:!1,accessibility:!1,primarylabel:null,detailsnavbarstate:null,detailsnavbar:[],centeroffset:{x:0,y:0},filter:"defaultFilter",mode:"search",zoom:15}},models:{detailsnavbar:[{id:"details",label:"Details"},{id:"depts-offices",label:"Departments & Offices"},{id:"imagery",label:"Photo"}]},labels:{primary:"Search by building, address or keyword"},throwError:{appInit:function(){throw Error("Error initializing App.")
},appControllerInit:function(){throw Error("Error initializing AppController.")},mapViewInit:function(){throw Error("Error initializing Map View.")},strategyCreation:function(){throw Error("Strategy requires an id and type")}},googlemap:{attrs:function(e){return{navigationControl:!0,navigationControlOptions:{style:e.maps.NavigationControlStyle.SMALL},panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!0,streetViewControlOptions:{position:e.maps.ControlPosition.RIGHT_BOTTOM},disableDoubleClickZoom:!0}},maptypes:{plain:{styles:[{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{weight:.4}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"on"},{lightness:23}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"},{lightness:10}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{stylers:[{saturation:-33},{invert_lightness:!1}]},{featureType:"poi.park",elementType:"geometry",stylers:[{gamma:.8}]},{stylers:[{gamma:.94}]},{featureType:"poi.school",elementType:"geometry",stylers:[{gamma:.9}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]}]},sketch:{tiles:function(e){return new e.maps.ImageMapType({getTileUrl:function(e,t){return"http://d.tiles.mapbox.com/v3/examples.a4c252ab/"+t+"/"+e.x+"/"+e.y+".png"},tileSize:new google.maps.Size(256,256),name:"Sketch",maxZoom:18})}},pinterest:{tiles:function(e){return new e.maps.ImageMapType({getTileUrl:function(e,t){return"https://a.tiles.mapbox.com/v3/pinterest.map-ho21rkos/"+t+"/"+e.x+"/"+e.y+".png"},tileSize:new google.maps.Size(256,256),name:"Pinterest",maxZoom:18})}}}}}}),define("datainterface",["underscore"],function(e){return{initialize:function(t){var n=t;return{getCampusList:function(){return n},getCampus:e.bind(function(){return e.first(this)},t.models),fetch:function(){return t},getLocationById:function(){return{id:"myloc"}}}}}}),define("datastore",["jquery","underscore","backbone","scripts/config","datainterface"],function(e,t,n,r,i){function a(t){var n=e.Deferred();return l.url=r.env.paths.data.jsonp.replace("%campus%",t),l.fetch({jsonpCallback:"cb",dataType:"jsonp",cache:!0,success:function(e){var t=e.at(0),r=t.get("maps")[0],i=r.locations;n.resolve({campus:t.toJSON(),campusmap:r,locations:i,center:r.latlng,zoom:r.zoom})},error:function(){n.reject("error")}}),n.promise()}function o(e){return new n.Model(e)}var s,l,c;return l=new n.Collection,c=new n.Collection,s=i.initialize(l),t.extend(s,{fetch:a,Model:n.Model,Collection:n.Collection,View:n.View,factory:{model:o}})}),define("eventdispatcher",["underscore","backbone"],function(e,t){return e.extend({},t.Events)}),define("templates",[],function(){return this.JST=this.JST||{},this.JST["app/scripts/templates/map-tile.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="label-tile-container">\r\n	<div class="label-tile">\r\n		',_.each(locations,function(e){__p+="\r\n			<div class='location "+(null==(__t=e.classnames)?"":__t)+"' id=\""+(null==(__t=e.locationid)?"":__t)+"\" style='top: "+(null==(__t=e.offsety)?"":__t)+"px; left: "+(null==(__t=e.offsetx)?"":__t)+"px'>\r\n				<div class='icon' style=''></div>\r\n				<div class='bd'>\r\n					<div class='txt'>\r\n						",__p+=e.multilinename?null==(__t=e.multilinename)?"":__t:null==(__t=e.name)?"":__t,__p+="\r\n					</div>\r\n				</div>\r\n			</div>\r\n		"}),__p+="\r\n	</div>\r\n</div>";return __p},this.JST["app/scripts/templates/panels/accessibility.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="panel-bd bare">\r\n	<div class="bd spacing">\r\n		<ul class="menu-accessibility">\r\n\r\n			<li class="item-menu accessible-full"><button data-campusmap=\'panels:results|filter:tag_exact|query:accessible-full|primarylabel:Fully Accessible|searchboxdisable:true|forceclosepanels:true|mode:accessibility\'>Fully Accessible</button></li>\r\n\r\n			<li class="item-menu accessible-assistance"><button data-campusmap=\'panels:results|filter:tag_exact|query:accessible-assistance|primarylabel:Accessible with Assistance|searchboxdisable:true|forceclosepanels:true|mode:accessibility\'>Accessible with Assistance</button></li>\r\n\r\n			',("medford"===model.campus.campusid||"boston"===model.campus.campusid)&&(__p+="\r\n			<li class=\"item-menu accessible-restroom\"><button data-campusmap='panels:results|filter:tag_exact|query:accessible-restroom|primarylabel:Accessible Restrooms|searchboxdisable:true|forceclosepanels:true|mode:accessibility'>Accessible Restrooms</button></li>\r\n			"),__p+="\r\n		</ul>\r\n	</div>\r\n</div>\r\n<div class='footer'><button class=\"btn-close\" data-campusmap='panels:|details:'>close</button></div>";return __p},this.JST["app/scripts/templates/panels/admin-add-locations.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<p>Click on the map to add a new location.</p>\r\n		<p><strong>'+(null==(__t=model.locationsaddedcount)?"":__t)+'</strong> locations added.</p>\r\n		<button class="btn-save">I\'m done, save them.</button>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/admin-location.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<button data-campusmap="panels:admin-add-locations">Add more locations</button>\r\n		<form class="form-horizontal" role="form">\r\n			<div class="form-group">\r\n				<label for="inputId" class="col-sm-4 control-label">Location Id</label>\r\n				<div class="col-sm-8">\r\n					<input class="form-control" id="inputId" placeholder="Location Id" value="'+(null==(__t=model.location.locationid)?"":__t)+'">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="inputName" class="col-sm-4 control-label">Name</label>\r\n				<div class="col-sm-8">\r\n					<input class="form-control" id="inputName" placeholder="Location Name" value="'+(null==(__t=model.location.name)?"":__t)+'">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="inputEmphasis" class="col-sm-4 control-label">Emphasis</label>\r\n				<div class="col-sm-8">\r\n					<input class="form-control" id="inputEmphasis" placeholder="Emphasis" value="'+(null==(__t=model.location.emphasis)?"":__t)+'">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="inputLatLng" class="col-sm-4 control-label">LatLng</label>\r\n				<div class="col-sm-8">\r\n					<input class="form-control" id="inputLatLng" placeholder="Latitude/Longitude" value="'+(null==(__t=model.location.latlng)?"":__t)+'">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="inputLabelPlacement" class="col-sm-4 control-label">Label Placement</label>\r\n				<div class="col-sm-8">\r\n					<input class="form-control" id="inputLabelPlacement" placeholder="" value="'+(null==(__t=model.location.labelplacement)?"":__t)+'">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="inputTags" class="col-sm-4 control-label">Tags</label>\r\n				<div class="col-sm-8">\r\n					<input class="form-control" id="inputTags" placeholder="" value="'+(null==(__t=model.location.tags)?"":__t)+'">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="inputImage" class="col-sm-4 control-label">Image</label>\r\n				<div class="col-sm-8">\r\n					<input class="form-control" id="inputImage" placeholder="Image Name" value="'+(null==(__t=model.location.imageurl)?"":__t)+'">\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<div class="col-sm-offset-2 col-sm-8">\r\n					<button type="submit" class="btn btn-default btn-save">Save</button>\r\n				</div>\r\n			</div>\r\n		</form>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/back-to-accessibility.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<div class=\'footer\'>\r\n			<button class="btn-close" data-campusmap=\'panels:accessibility\'>back to the Accessibility Menu</button>\r\n		</div>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/back-to-parking.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<div class=\'footer\'>\r\n			<button class="btn-close" data-campusmap=\'panels:parking\'>back to the Parking Menu</button>\r\n		</div>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/back-to-results.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<div class=\'footer\'>\r\n			<button class="btn-close" data-campusmap=\'panels:results\'>back to list of results</button>\r\n		</div>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/back-to.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<div class=\'footer\'>\r\n			<button class="btn-close" data-campusmap=\'panels:commencement\'>back to the Commencement Menu</button>\r\n		</div>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/blank.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd bare">\r\n	<div class="bd spacing"></div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/commencement-more.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<h3 class="subhead">Live Phase II Information</h3>\r\n		<ul class="list">\r\n			<li><a class="link external" target="_blank" href="http://m.tufts.edu/transit/route?id=doublemap__12&_b=[{%22t%22%3A%22Tufts+Shuttles%22%2C%22lt%22%3A%22Tufts+Shuttles%22%2C%22p%22%3A%22index%22%2C%22a%22%3A%22%22}">Live Commencement Shuttle Tracker</a></li>\r\n			<li><a class="link external" target="_blank" href="http://commencement.tufts.edu/wp-content/uploads/Shuttle-map2014.pdf">Campus Shuttle Map</a></li>\r\n			<li><a class="link external" target="_blank" href="http://commencement.tufts.edu/phase-ii/">More Phase II Information</a></li>\r\n		</ul>\r\n		<div class=\'footer\'><button class="btn-close" data-campusmap=\'panels:commencement|details:\'>close</button></div>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/commencement.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd bare">\r\n	<div class="bd spacing">\r\n		<ul class="menu-commencement">\r\n			<li class="item-menu ceremony-locations"><button data-campusmap=\'panels:results|filter:tag_exact|query:graduation-ceremony|primarylabel:Ceremony Locations|searchboxdisable:true|forceclosepanels:true|mode:commencement\'>Graduation Ceremony Locations</button></li>\r\n\r\n			<li class="item-menu shuttle"><button data-campusmap=\'panels:results|filter:tag_exact|query:shuttle|primarylabel:Shuttle Stops|searchboxdisable:true|forceclosepanels:true|mode:commencement\'>Shuttle Stops</button></li>\r\n\r\n			<li class="item-menu web-viewing-areas"><button data-campusmap=\'panels:results|filter:tag_exact|query:web viewing area|primarylabel:Web Viewing Areas|searchboxdisable:true|forceclosepanels:true|mode:commencement\'>Web Viewing Areas</button></li>\r\n\r\n			<li class="item-menu info-booths"><button data-campusmap=\'panels:results|filter:tag_exact|query:info-booth|primarylabel:Information Booths|searchboxdisable:true|forceclosepanels:true|mode:commencement\'>Information Booths</button></li>\r\n\r\n			<li class="item-menu disabled-dropoff"><button data-campusmap=\'panels:results|filter:tag_exact|query:disabled-dropoff|primarylabel:Handicapped Drop-off|searchboxdisable:true|forceclosepanels:true|mode:commencement\'>Handicapped Drop-off</button></li>\r\n\r\n			<li class="item-menu restrooms"><button data-campusmap=\'panels:results|filter:tag_exact|query:restroom|primarylabel:Commencement Restrooms|searchboxdisable:true|forceclosepanels:true|mode:commencement\'>Restrooms</button></li>\r\n\r\n			<li class="item-menu disabled-restrooms"><button data-campusmap=\'panels:results|filter:tag_exact|query:restroom-disabled|primarylabel:Restrooms for the Disabled|searchboxdisable:true|forceclosepanels:true|mode:commencement\'>Restrooms for the Disabled</button></li>\r\n\r\n			<li class="item-menu food-service"><button data-campusmap=\'panels:results|filter:tag_exact|query:food-service|primarylabel:Food Service|searchboxdisable:true|forceclosepanels:true|mode:commencement\'>Food Service</button></li>\r\n\r\n		</ul>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/depts-offices-info.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<h3 class="subhead">Contact Information</h3>\r\n		<ul class="list">\r\n			',model.name&&(__p+=' <li class="title"><strong>'+(null==(__t=model.name)?"":__t)+"</strong></li>"),__p+="\r\n			",model.locwithin&&(__p+=" <li>"+(null==(__t=model.locwithin)?"":__t)+"</li>"),__p+="\r\n			",model.phone&&(__p+=" <li>"+(null==(__t=model.phone)?"":__t)+"</li>"),__p+="\r\n			",model.email&&(__p+=' <li><a class="link external" href="mailto:'+(null==(__t=model.email)?"":__t)+'">'+(null==(__t=model.email)?"":__t)+"</a></li>"),__p+="\r\n			",model.website&&(__p+=' <li><a class="link external" target="_blank" href="'+(null==(__t=model.website)?"":__t)+'">Visit the website &gt;</a></li>'),__p+="\r\n		</ul>\r\n		<div class='footer'>\r\n			<button class=\"btn-close\" data-campusmap='panels:details'>close</button>\r\n		</div>\r\n	</div>\r\n</div>";return __p},this.JST["app/scripts/templates/panels/details-accessibility.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<h3 class="subhead">Accessibility</h3>\r\n		',model.location.accessibility>0||model.location.accessiblerestroom>0?(__p+='\r\n			<ul class="addr accessibility">\r\n				<li>\r\n				',1===model.location.accessibility?__p+='\r\n					<img src="../app/images/icons/accessibility1@2x.png" /> Fully Accessible\r\n				':2===model.location.accessibility&&(__p+='\r\n					<img src="../app/images/icons/accessibility2@2x.png" /> Accessible with Assistance\r\n				'),__p+="\r\n				</li>\r\n				",1===model.location.accessibilityrestroom&&(__p+='\r\n					<li><img src="../app/images/icons/accessibilityrestroom@2x.png" /> Accessible Restroom</li>\r\n				'),__p+="\r\n			</ul>\r\n			<div class='footer'>\r\n		"):__p+="\r\n			<div class='footer no-content'>\r\n		",__p+='\r\n			<a class="link external" href="http://oeo.tufts.edu/">Office of Equal Opportunity</a> \r\n			',"medford"===model.campus.campusid&&(__p+='\r\n			<span class="divider">|</span> <a class="link external" target="_blank" href="http://campusmaps.tufts.edu/docs/medford-accessibilitymap.pdf">Accessibility Map (pdf)</a>\r\n			'),__p+="\r\n			<button class=\"btn-close\" data-campusmap='panels:details'>close</button>\r\n		</div>\r\n	</div>\r\n</div>";return __p},this.JST["app/scripts/templates/panels/details.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj){if(__p+='<div class="navbar">\r\n	<ul>\r\n		',_.each(model.navbar,function(e){__p+='\r\n			<li id="'+(null==(__t=e.id)?"":__t)+'" class="navitem '+(null==(__t=e.classes)?"":__t)+'"><button data-campusmap="detailsnavbarstate:'+(null==(__t=e.id)?"":__t)+'|panels:details">'+(null==(__t=e.label)?"":__t)+"</button></li>\r\n		"}),__p+='\r\n		<li class="admin-edit"><button data-campusmap="panels:admin-location">(edit)</button></li>\r\n	</ul>\r\n</div>\r\n<div class="panels-contents">\r\n	<div class="panel-content panel-details">\r\n		<div class="panel-bd ',model.location.thumbnail||(__p+="full"),__p+='">\r\n			<div class="bd spacing ">\r\n				',model.location.addressalt?__p+='\r\n					<div class="address-alt">'+(null==(__t=model.location.addressalt)?"":__t)+"</div>\r\n				":(__p+="\r\n					",model.location.address1&&(__p+='\r\n						<p class="addr addr1">'+(null==(__t=model.location.address1)?"":__t)+"</p>\r\n					"),__p+="\r\n					",model.location.address2&&(__p+='\r\n						<p class="addr addr2">'+(null==(__t=model.location.address2)?"":__t)+"</p>\r\n					"),__p+="\r\n					",model.location.city&&(__p+='<p class="addr city">'+(null==(__t=model.location.city)?"":__t)+", MA \r\n						",__p+="Somerville"===model.location.city?"02144":"02155",__p+="</p>\r\n					"),__p+='\r\n					<div class="more-info"><p>\r\n						',model.location.phone&&(__p+='\r\n							<label class="sr-only">Phone</label><a class="link phone external" href="tel:'+(null==(__t=model.location.phone)?"":__t)+'">'+(null==(__t=model.location.phone)?"":__t)+"</a>\r\n						"),__p+="\r\n						",model.location.website&&model.location.phone&&(__p+=" | "),__p+="\r\n						",model.location.website&&(__p+='\r\n							<a class="link external" target="_blank" href="'+(null==(__t=model.location.website)?"":__t)+'">Visit the website &gt;</a>\r\n						'),__p+="</p>\r\n					</div>\r\n				"),__p+='\r\n				<div class="btns">\r\n					',(model.location.accessibility||model.location.accessibilerestroom)&&(__p+="\r\n						<button data-campusmap='panels:details,details-accessibility+' title=\"Toggle Accessibility Details\">Accessibility</button> \r\n					"),__p+='\r\n					\r\n					<button data-campusmap=\'panels:details,select-destination+\' title="Toggle Directions Details">Directions</button> \r\n					<!--<button data-campusmap=\'panels:details,sharelink+\' title="Toggle Share a Link Details">Share a Link</button>-->\r\n				</div>\r\n			</div>\r\n		</div>\r\n		<aside class="',model.location.thumbnail||(__p+="no-thumb"),__p+='">\r\n			',model.location.thumbnail?__p+='\r\n				<img class="thumb" src="../app/images/thumbs/'+(null==(__t=model.location.thumbnail)?"":__t)+'" />\r\n			':(__p+="\r\n				","medford"===model.campus.campusid?__p+='\r\n					<p class="title"><strong>Visitor Parking</strong></p>\r\n					<p><a class="link external" href="#" data-campusmap="panels:details|details:p-dowling-garage|center:42.408843,-71.118311">Dowling Parking Garage</a></p>\r\n					<p><a target="_blank" class="link external" href="http://publicsafety.tufts.edu/adminsvc/parking-services/visitor-parking-58/">More Visitor / Guest Parking Options</a></p>\r\n				':"grafton"===model.campus.campusid?__p+='\r\n					<p class="title"><strong>Parking</strong></p>\r\n					<p><a class="link external" data-campusmap="panels:parking|searchboxdisable:true|forceclosepanels:true|mode:parking|primarylabel:Parking" href="#">Find parking on campus for Visitors, Faculty/Staff, and Students.</a></p>\r\n				':"boston"===model.campus.campusid&&(__p+='\r\n					<p class="title"><strong>Parking</strong></p>\r\n					<p><a class="link external" target="_blank" href="http://publicsafety.tufts.edu/adminsvc/parking-services/boston-campus-parking-services-63/">For more details on parking visit the <strong>Public Safety website</strong></a>.</p>\r\n				'),__p+="\r\n			"),__p+='\r\n		</aside>\r\n	</div>\r\n	<div class="panel-content panel-depts-offices">\r\n		<div class="panel-bd full ',__p+=model.location.occupants&&1===model.location.occupants.length?"single":"bare",__p+='">\r\n			<div class="bd spacing ">\r\n				',model.location.occupants&&1===model.location.occupants.length){var occupant=model.location.occupants[0];__p+='\r\n					<ul class="list">\r\n						',occupant.name&&(__p+=" <li><strong>"+(null==(__t=occupant.name)?"":__t)+"</strong></li>"),__p+="\r\n						",occupant.locwithin&&(__p+=" <li>"+(null==(__t=occupant.locwithin)?"":__t)+"</li>"),__p+="\r\n						",occupant.phone&&(__p+=" <li>"+(null==(__t=occupant.phone)?"":__t)+"</li>"),__p+="\r\n						",occupant.email&&(__p+=' <li><a class="link external" href="mailto:'+(null==(__t=occupant.email)?"":__t)+'">'+(null==(__t=occupant.email)?"":__t)+"</a></li>"),__p+="\r\n						",occupant.website&&(__p+=' <li><a class="link external" target="_blank" href="'+(null==(__t=occupant.website)?"":__t)+'">Visit the website &gt;</a></li>'),__p+="\r\n					</ul>\r\n				"}else __p+='\r\n					<ul class="list striped">\r\n					',_.each(model.location.occupants,function(e,t){__p+='\r\n						<li class="item"><button data-index=\''+(null==(__t=t)?"":__t)+"' data-campusmap='panels:details,depts-offices-info'>"+(null==(__t=e.name)?"":__t)+"</button></li>\r\n					"}),__p+="\r\n					</ul>\r\n				";__p+='\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="panel-content panel-imagery">\r\n		',model.location.imageurl&&(__p+='\r\n			<img class="wide-shot" src="../app/images/wide/'+(null==(__t=model.location.imageurl)?"":__t)+'" />\r\n		'),__p+="\r\n	</div>\r\n</div>"}return __p},this.JST["app/scripts/templates/panels/directions.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<h3 class="subhead">To '+(null==(__t=model.directionsto.name)?"":__t)+' | <a data-campusmap="panels:details,select-destination" class="link internal" href="#">Back</a></h3>\r\n		<div class="input-info clearfix">\r\n			<div><strong class="heavy">Where are you coming from?</strong></div>\r\n			<p class="span-60 bare pull-left">\r\n				<input class="span-80" type="text" value="" placeholder="address" id="input-addr1"/>\r\n				<input class="span-80" type="text" value="" placeholder="city" id="input-city"/>\r\n				<input class="span-20 input-state" type="text" value="MA" id="input-state"/>\r\n			</p>\r\n			<div class="span-40 bare pull-left go-directions non-street-accessible">\r\n				<div class="msg">&nbsp;</div>\r\n				<button class="btn-large btn-directions">Get Directions</button> \r\n				<a id="googlemap-link" target="_blank" href="#"><span>google maps link</span></a>\r\n				<label class="block small muted lbl-google"><em>Directions provided by <a class="link external" target="_blank" class="muted" href="http://maps.google.com">Google Inc.</a></em></label>\r\n			</div>\r\n		</div>\r\n\r\n		<div class=\'footer\'>\r\n\r\n			<button class="btn-close" data-campusmap=\'panels:details\'>close</button>\r\n\r\n		</div>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/hint-map-icons.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary bare">\r\n	<div class="bd spacing">\r\n		<h3 class="subhead"><strong>Hint</strong>: Click a map icon multiple times to advance through navbar items.</h3>\r\n		<div class=\'footer\'><button class="btn-close" data-campusmap=\'panels:details\'>x</button></div>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/menu-mobile.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+="<div class=\"panel-bd bare\">\r\n	<div class=\"bd spacing\">\r\n		<ul class=\"menu-mobile\">\r\n\r\n			<li class=\"item-menu buildings\"><button data-campusmap='mode:building|panels:results|filter:tag_exact|query:building|searchboxdisable:true|forceclosepanels:true|primarylabel:All Buildings'>All Buildings</button></li>\r\n\r\n			<li class=\"item-menu commencement\"><button data-campusmap='panels:parking|searchboxdisable:true|forceclosepanels:true|mode:parking|primarylabel:Parking'>Parking</button></li>\r\n\r\n			<li class=\"item-menu accessibility\"><button data-campusmap='mode:accessibility|panels:accessibility|searchboxdisable:true|forceclosepanels:true|primarylabel:Accessibility'>Accessibility</button></li>\r\n\r\n			<li class=\"item-menu parking-visitor\"><button data-campusmap='mode:commencement|panels:commencement,commencement-more|searchboxdisable:true|forceclosepanels:true|primarylabel:Commencement'>Commencement</button></li>\r\n\r\n		</ul>\r\n\r\n		<div>\r\n			\r\n			<button data-campusmap='panels:settings|searchboxdisable:true|forceclosepanels:true|primarylabel:Settings'>Settings</button>\r\n\r\n			<button data-campusmap='panels:popular-tags|searchboxdisable:true|forceclosepanels:true|primarylabel:Popular Tags'>Popular Tags</button>\r\n		</div>\r\n\r\n		<div class='footer'><button class=\"btn-close\" data-campusmap='panels:|details:'>close</button></div>\r\n	</div>\r\n</div>";return __p},this.JST["app/scripts/templates/panels/parking.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="panel-bd bare">\r\n	<div class="bd spacing">\r\n		<ul class="menu-parking">\r\n			<li class="item-menu parking-visitor"><button data-campusmap=\'panels:results|filter:tag_exact|query:parking-visitor|primarylabel:Visitor Parking|searchboxdisable:true|forceclosepanels:true|mode:parking\'>Visitor Parking</button></li>\r\n\r\n			<li class="item-menu parking-faculty-staff"><button data-campusmap=\'panels:results|filter:tag_exact|query:parking-faculty-staff|primarylabel:Faculty/Staff|searchboxdisable:true|forceclosepanels:true|mode:parking\'>Faculty/Staff</button></li>\r\n\r\n			',"medford"===model.campus.campusid?__p+="\r\n			<li class=\"item-menu parking-resident\"><button data-campusmap='panels:results|filter:tag_exact|query:parking-resident|primarylabel:Resident|searchboxdisable:true|forceclosepanels:true|mode:parking'>Resident</button></li>\r\n\r\n			<li class=\"item-menu parking-commuter\"><button data-campusmap='panels:results|filter:tag_exact|query:parking-commuter|primarylabel:Commuter Student|searchboxdisable:true|forceclosepanels:true|mode:parking'>Commuter Student</button></li>\r\n\r\n			<li class=\"item-menu parking-no-sticker\"><button data-campusmap='panels:results|filter:tag_exact|query:parking-no-sticker|primarylabel:No Sticker|searchboxdisable:true|forceclosepanels:true|mode:parking'>No Sticker</button></li>\r\n\r\n			":"grafton"===model.campus.campusid&&(__p+="\r\n\r\n			<li class=\"item-menu parking-student\"><button data-campusmap='panels:results|filter:tag_exact|query:parking-student|primarylabel:Student|searchboxdisable:true|forceclosepanels:true|mode:parking'>Student</button></li>\r\n\r\n			"),__p+="\r\n\r\n		</ul>\r\n		<div class='footer'><button class=\"btn-close\" data-campusmap='panels:|details:'>close</button></div>\r\n	</div>\r\n</div>";return __p},this.JST["app/scripts/templates/panels/popular-tags.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd">\r\n	<div class="bd spacing">\r\n		<p>	\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:athletics|searchboxdisable:true|forceclosepanels:true|primarylabel:Athletics\'>athletics</button>\r\n\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:atm|searchboxdisable:true|forceclosepanels:true|primarylabel:Atm\'>atm</button>\r\n\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:coffee|searchboxdisable:true|forceclosepanels:true|primarylabel:Coffee\'>coffee</button>\r\n\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:dining|searchboxdisable:true|forceclosepanels:true|primarylabel:Dining\'>dining</button>\r\n\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:engineering|searchboxdisable:true|forceclosepanels:true|primarylabel:Engineering\'>engineering</button>\r\n\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:field|searchboxdisable:true|forceclosepanels:true|primarylabel:Field\'>field</button>\r\n\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:fletcher|searchboxdisable:true|forceclosepanels:true|primarylabel:Fletcher\'>fletcher</button>\r\n			\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:library|searchboxdisable:true|forceclosepanels:true|primarylabel:Library\'>library</button>\r\n			\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:greek|searchboxdisable:true|forceclosepanels:true|primarylabel:Greek\'>greek</button>\r\n\r\n			<button class="tag" href="#" data-campusmap=\'panels:results|filter:tag_exact|query:residence|searchboxdisable:true|forceclosepanels:true|primarylabel:Residence\'>residence</button>\r\n\r\n			\r\n		</p>\r\n		<div class=\'footer\'><button class="btn-close" data-campusmap=\'panels:|details:\'>close</button></div>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/printable-maps.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="panel-bd">\r\n	<div class="bd spacing">\r\n		<h3 class="subhead sr-only">Printable Maps</h3>\r\n		',"medford"===model.campus.campusid?__p+='\r\n		<ul class="list-pdfs medford">\r\n			<li>\r\n				<a target="_blank" href="/docs/Tufts_Medford-Som_Map.pdf">Campus Map</a>\r\n				<a target="_blank" href="/docs/Tufts_Medford-Som_Map.pdf"><img src="../app/images/pdfs/pdf_campusmap_medford_150.png" /></a>\r\n			</li>\r\n			<li>\r\n				<a target="_blank" href="http://publicsafety.tufts.edu/adminsvc/files/Medford-Parking-Map2013FINAL-2.pdf">Parking</a>\r\n				<a target="_blank" href="http://publicsafety.tufts.edu/adminsvc/files/Medford-Parking-Map2013FINAL-2.pdf"><img src="../app/images/pdfs/pdf_parking_medford_150.png" /></a>\r\n			</li>\r\n			<li>\r\n				<a target="_blank" href="/docs/Tufts_Medford-Som_Map_Dir.pdf">Driving Directions</a>\r\n				<a target="_blank" href="/docs/Tufts_Medford-Som_Map_Dir.pdf"><img src="../app/images/pdfs/pdf_directions_medford_150.png" /></a>\r\n			</li>\r\n			<li>\r\n				<a target="_blank" href="/docs/medford-accessibilitymap.pdf">Accessibility</a>\r\n				<a target="_blank" href="/docs/medford-accessibilitymap.pdf"><img src="../app/images/pdfs/pdf_accessibility_medford_150.png" /></a>\r\n			</li>\r\n			<li>\r\n				<a target="_blank" href="http://commencement.tufts.edu/wp-content/uploads/ceremony-map2.pdf">Commencement</a>\r\n				<a target="_blank" href="http://commencement.tufts.edu/wp-content/uploads/ceremony-map2.pdf"><img src="../app/images/pdfs/pdf_commencement_medford_150.png" /></a>\r\n			</li>\r\n		</ul>\r\n		':"grafton"===model.campus.campusid?__p+='\r\n		<div class="grafton clearfix">\r\n			<p class="title"><a class="link external" target="_blank" href="http://www.tufts.edu/vet/tcsvm_campus_map.pdf">Download a PDF of the Grafton Campus</a></p>\r\n			<a class="thumb" target="_blank" href="http://www.tufts.edu/vet/tcsvm_campus_map.pdf"><img src="../app/images/pdfs/pdf_campusmap_grafton_150.png" /></a>\r\n			<p class="bd">The Cummings School of Veterinary Medicine is located along Route 30 (Westboro Road) in North Grafton Massachusetts.</p>\r\n\r\n			<p class="bd">For more information on general directions to the campus visit the <a class="link external" target="_blank" href="http://vet.tufts.edu/directions.html">website</a>.</p>\r\n		</div>\r\n		':"boston"===model.campus.campusid&&(__p+='\r\n		<div class="boston clearfix">\r\n			<p class="title"><a class="link external" target="_blank" href="http://campusmaps.tufts.edu/docs/boston-accessibilitymap.pdf">Download a PDF of the Tufts Boston Campus</a></p>\r\n			<a class="thumb" target="_blank" href="http://campusmaps.tufts.edu/docs/boston-accessibilitymap.pdf"><img src="../app/images/pdfs/pdf_campusmap_boston2_150.png" /></a>\r\n			<p class="bd">Tufts Boston campus includes the School of Medicine, the School of Dental Medicine, Sackler School of Graduate Biomedical Sciences, Jean Mayer USDA Human Nutrition Research Center on Aging, and The Gerald J. and Dorothy R. Friedman School of Nutrition Science and Policy. </p>\r\n		</div>\r\n		'),__p+="\r\n		<div class='footer'><button class=\"btn-close\" data-campusmap='panels:|details:'>close</button></div>\r\n	</div>\r\n</div>";
return __p},this.JST["app/scripts/templates/panels/results.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="panel-bd">\r\n	<div class="bd spacing">\r\n		<div class="head">\r\n			<p class="results-found">'+(null==(__t=model.results.length)?"":__t)+" result"+(null==(__t=1!==model.results.length?"s":"")?"":__t)+' found</p>\r\n		</div>\r\n		<ul class="list list-results striped">\r\n			',_.each(model.results,function(e){__p+='\r\n			<li class="result"><button data-locationid="'+(null==(__t=e.locationid)?"":__t)+'" data-campusmap="center:'+(null==(__t=e.latlng)?"":__t)+'">'+(null==(__t=e.label)?"":__t)+'<label class="btn-lite btn-details">Details</label></button></li>\r\n			'}),__p+="\r\n		</ul>\r\n	</div>\r\n</div>";return __p},this.JST["app/scripts/templates/panels/secondary.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<h3 class="subhead">Results Secondary</h3>\r\n		<p class="bare"><strong class="heavy">Where to?</strong></p>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/panels/select-destination.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<h3 class="subhead">Select a Destination</h3>\r\n		<p class="bare"><strong class="heavy">Where to?</strong></p>\r\n		<div class="directions-options '+(null==(__t=model.location.locationid)?"":__t)+'">\r\n			<button class="btn-large to-a" data-campusmap=\'panels:details,directions|directionsto:'+(null==(__t=model.location.locationid)?"":__t)+"'><label>"+(null==(__t=model.location.name)?"":__t)+"</label></button>\r\n\r\n			","medford"===model.campus.campusid?__p+="\r\n			<button class=\"btn-large to-b\" data-campusmap='panels:details,directions|directionsto:p-dowling-garage'><label>Dowling Parking Garage</label></button>\r\n			":"grafton"===model.campus.campusid&&(__p+="\r\n			<button class=\"btn-large to-b\" data-campusmap='panels:details,directions|directionsto:p-grafton2'><label>Campus Center Parking Lot</label></button>\r\n			"),__p+="\r\n			\r\n			\r\n		</div>\r\n		 \r\n		<div class='footer'>\r\n			","medford"===model.campus.campusid&&(__p+='\r\n			<a class="link external" target="_blank" href="http://publicsafety.tufts.edu/adminsvc/parking-services/visitor-parking-58/">More on Visitor Parking</a>\r\n			<span class="divider">|</span>\r\n			<a class="link external" target="_blank" href="http://www.mbta.com">MBTA</a>\r\n			<span class="divider">|</span> \r\n			<a class="link external" target="_blank" href="http://publicsafety.tufts.edu/adminsvc/shuttle-services-2/">Shuttle Tracker</a>\r\n			'),__p+="\r\n			<button class=\"btn-close\" data-campusmap='panels:details'>close</button>\r\n		</div>\r\n	</div>\r\n</div>";return __p},this.JST["app/scripts/templates/panels/settings.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="panel-bd">\r\n	<div class="bd spacing">\r\n		<h3 class="sr-only subhead">Settings</h3>\r\n		<div class="largelabels">\r\n			<label class="label-on-off">Large Map Labels:</label>\r\n			<button class="btn btn-off btn-large-label" data-campusmap="large-labels:false">off</button>\r\n			<button class="btn btn-on btn-large-label" data-campusmap="large-labels:true">on</button>\r\n		</div>\r\n		<div class="highcontrastlabels">\r\n			<label class="label-on-off">High-contrast Map Labels:</label>\r\n			<button class="btn btn-off btn-high-contrast" data-campusmap="high-contrast-labels:false">off</button>\r\n			<button class="btn btn-on btn-high-contrast" data-campusmap="high-contrast-labels:true">on</button>\r\n		</div>\r\n		<div class=\'footer\'><button class="btn-close" data-campusmap=\'panels:|details:\'>close</button></div>\r\n	</div>\r\n</div>\r\n';return __p},this.JST["app/scripts/templates/panels/sharelink.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+='<div class="panel-bd panel-secondary">\r\n	<div class="bd spacing">\r\n		<h3 class="subhead">Share a Link</h3>\r\n		<p class="bare">\r\n			<strong class="heavy">Send a Link Directly To '+(null==(__t=model.location.name)?"":__t)+'</strong><br/>\r\n			<input class="full input-sharelink" type="text" value="'+(null==(__t=model.pageurl)?"":__t)+"#locationid="+(null==(__t=model.location.locationid)?"":__t)+'" onClick="this.setSelectionRange(0, this.value.length)" />\r\n		</p>\r\n		<p><em>Copy/Paste the url above.</em></p>\r\n		<div class=\'footer\'><button class="btn-close" data-campusmap=\'panels:details\'>close</button></div>\r\n	</div>\r\n</div>';return __p},this.JST["app/scripts/templates/searchbox.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+='<div id="container-searchbox">\r\n	<form role="search">\r\n		<div class="panel panel-search shadow">\r\n			<div class="form-group">\r\n				<label for="searchbox" class="sr-only label-primary">'+(null==(__t=model.primarylabel)?"":__t)+'</label>\r\n				<input id="searchbox" type="text" value="'+(null==(__t=model.primarylabel)?"":__t)+'" class="form-control" autocomplete="off"  />\r\n			</div>\r\n			<button class="btn btn-backto">\r\n				<span class="lbl">Back</span>\r\n				<span class="sr-only">Back</span>\r\n			</button>\r\n			<span class="divider divider-backto">|</span>\r\n			<button class="btn btn-default search" type="submit">\r\n				<span class="search"></span>\r\n				<span class="sr-only">Search</span> \r\n			</button>\r\n		</div>\r\n	</form>\r\n	<div id="container-panels"></div>\r\n</div>';return __p},this.JST}),define("scripts/domManager",["jquery","underscore","eventdispatcher","templates","_mixins"],function(e,t,n,r){function i(){t.bindAll(this,"getRootEl"),this.$root=e("body"),this.getElement=t.dispatch(this.getOptionsEl,this.getHtmlEl,this.getRootEl),this.labelTileTemplate=r["app/scripts/templates/map-tile.ejs"],e("body").on("click","[data-campusmap]",function(r){var i=e(this).data("campusmap");return r.preventDefault(),n.trigger("truthupdate",t.stringToObject(i)),!1})}return i.prototype.setAppRoot=function(t){this.$root=e(t)},i.prototype.cssFlag=function(e,t){var n;t||(t={}),n=this.getElement(t),t.remove!==!0?n.addClass(e):n.removeClass(e)},i.prototype.getOptionsEl=function(e){return e.$el},i.prototype.getRootEl=function(){return this.$root},i.prototype.getHtmlEl=function(t){return t||(t={}),t.el&&"html"===t.el.toLowerCase()?e("html"):void 0},i.prototype.getElement=function(){},i.prototype.unfocusAll=function(){e(":focus").focusout().blur()},i.prototype.getDimensions=function(e){return e?{width:e.outerWidth(),height:e.outerHeight()}:{x:0,y:0}},i.prototype.getLabelTile=function(n,r,i){var a,o,s=this.toMultiLines;return t.each(i,function(e){t.setAttr(e,{classnames:this.getLocationClassNames(e)})},this),a=this.labelTileTemplate({locations:t.map(i,function(e){var n=e.toJSON?e.toJSON():e;return n.multilinename=t.map(s(n.name,22),function(e){return e}).join("<br/>"),n})}),o=e(a),o[0]},i.prototype.toMultiLines=function(e,t){var n,r=[],i=0;t||(t=32),n=e.split(" ");for(var a=0;n.length>a;a++)r[i]||(r[i]=""),r[i]=r[i]+n[a]+" ",r[i].length>t&&i++;return r},i.prototype.getLocationClassNames=function(e){var n,r=["location"];return e?(n=t.getAttr(e,"tags"),t.isString(n)&&(e.tagItems=e.tagItems||t.chain(t.getAttr(e,"tags").split(",")).map(t.trim).value()),t.getAttr(e,"emphasis")&&r.push("emphasis"+t.getAttr(e,"emphasis")),t.getAttr(e,"hide")===!0&&r.push("hide"),t.getAttr(e,"isCloseBy")===!0&&r.push("closeby"),t.getAttr(e,"isHovered")===!0&&r.push("hover"),t.getAttr(e,"isDetails")===!0&&r.push("details"),t.contains(e.tagItems,"accessible-full")&&r.push("accessible-full"),t.contains(e.tagItems,"accessible-assistance")&&r.push("accessible-assistance"),t.contains(e.tagItems,"accessible-restroom")&&r.push("accessible-restroom"),t.contains(e.tagItems,"parking")&&r.push("parking"),t.contains(e.tagItems,"field")&&r.push("field"),t.contains(e.tagItems,"lawn")&&r.push("lawn"),t.contains(e.tagItems,"commencement")&&r.push("commencement"),t.contains(e.tagItems,"restroom")&&r.push("restroom"),t.contains(e.tagItems,"disabled-dropoff")&&r.push("disabled-dropoff"),t.contains(e.tagItems,"food-service")&&r.push("food-service"),t.contains(e.tagItems,"shuttle")&&r.push("shuttle"),t.contains(e.tagItems,"restroom-disabled")&&r.push("restroom-disabled"),t.contains(e.tagItems,"first-aid")&&r.push("first-aid"),t.contains(e.tagItems,"graduation-ceremony")&&r.push("graduation-ceremony"),t.contains(e.tagItems,"info-booth")&&r.push("info-booth"),t.contains(e.tagItems,"web viewing area")&&r.push("web-viewing-area"),r.join(" ")):""},new i}),define("transition",["jquery","underscore","eventdispatcher"],function(e,t){function n(){}return n.prototype.animateDomOpen_=function(e){return e.$el.css({overflow:"hidden",top:"0px"}),e.$el.fadeIn(450)},n.prototype.animateDomClose_=function(e){return e.$el.css("overflow","hidden"),e.$el.fadeOut(150)},n.prototype.doAnimationOpen_=function(t){var n=this.openPost_;t.model.set("state","doingAnimation");var r=this.animateDomOpen_(t);e.when(r).then(function(){n(t),t.deferred&&t.deferred.resolve("animation complete")})},n.prototype.doAnimationClose_=function(t){var n=this.closePost_;t.model.set("state","doingAnimation"),e.when(this.animateDomClose_(t)).then(function(){n(t),t.deferred&&t.deferred.resolve("animation complete")})},n.prototype.openPre_=function(e){e.model.set("state","openPre"),this.doAnimationOpen_(e)},n.prototype.open=function(n,r){return n&&n.model&&(t.exists(r)&&n.$el.css("z-index",999-(r||0)),!this.isOpen_(n))?n.$el.hasClass("animating")?!1:(n.$el&&n.$el.addClass("animating"),n.deferred=new e.Deferred,this.openPre_(n),n.deferred.promise()):void 0},n.prototype.openPost_=function(e){e.model.set("state","openPost"),e.model.set("state","open"),e.$el&&e.$el.removeClass("animating state-closed"),e.$el.addClass("state-opened")},n.prototype.closePre_=function(e){e.model.set("state","closePre"),this.doAnimationClose_(e)},n.prototype.close=function(t){return t&&t.model&&!this.isClosed_(t)?t.$el.hasClass("animating")?!1:(t.$el&&t.$el.addClass("animating"),t.deferred=new e.Deferred,this.closePre_(t),t.deferred.promise()):void 0},n.prototype.closePost_=function(e){e.model.set("state","closePost"),e.model.set("state","close"),e.$el&&e.$el.removeClass("animating state-opened"),e.$el&&e.$el.css({display:"none"}),e.$el.addClass("state-closed")},n.prototype.isOpen_=function(e){return"open"===e.model.get("state")},n.prototype.isClosed_=function(e){return"close"===e.model.get("state")},n}),define("scripts/views/panels/Base",["jquery","underscore","scripts/config","templates","datastore","eventdispatcher"],function(e,t,n,r,i,a){var o,s="app/scripts/templates/panels/";return o=i.View.extend({title:"",initialize:function(){var e=this.model;t.bindAll(this,"render","open","getTitle","handleStateChange","handleOpenState","handleCloseState","handleOpenPreState","handleClosePreState"),e&&(this.template=r[o.path(this.id)],e.set({state:"close",location:{},campus:{},pageurl:n.env.pageurl},{silent:!0}),this.$el.addClass("panel"),this.handleStateChange=t.dispatch(this.handleOpenState,this.handleCloseState,this.handleOpenPreState,this.handleClosePreState),this.listenTo(e,"change:state",this.handleStateChange),a.on("delegateTruth",function(e){e.details&&(this.location=e.details||{},this.model.set({location:this.location.toJSON?this.location.toJSON():this.location}))},this),a.on("delegateTruth",function(e){e.campus&&(this.campus=e.campus||{},this.model.set({campus:this.campus.toJSON?this.campus.toJSON():this.campus}))},this))},close:function(e,n){return e||(e={}),"open"===this.state()?t.isFunction(e.close)?e.close(this,n):this.model.set({state:"close"}):void 0},open:function(e){return e||(e={}),"close"===this.state()?t.isFunction(e.open)?e.open(this):this.model.set({state:"open"}):void 0},handleStateChange:function(){},handleOpenPreState:function(e,t){return"openPre"===t?(this.render(),t):void 0},handleClosePreState:function(e,t){return"closePre"===t?t:void 0},handleOpenState:function(e,t){return"open"===t?t:void 0},handleCloseState:function(e,t){return"close"===t?t:void 0},toJSON:function(){return{model:this.model.toJSON()}},state:function(){return this.model.get("state")},render:function(e){var t=e||this.toJSON();return this.template?(this.$el.html(this.template(t)),this):this},getTitle:function(){return t.isFunction(this.title)?this.title.apply(this,arguments):this.title},formatPhone:function(e){return e.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")}}),o.path=function(e){return s+e+".ejs"},o}),define("scripts/views/panels/details",["jquery","underscore","scripts/views/panels/Base","eventdispatcher"],function(e,t,n,r){return n.extend({title:function(){return this.model.get("location").name},events:{"click .panel-details":function(e){e.target&&"button"!==e.target.nodeName.toLowerCase()&&r.trigger("truthupdate",{panels:"details"})},"click .panel-depts-offices .item button":function(n){var i=e(n.currentTarget),a=parseInt(i.data("index")),o=this.model.get("location"),s=o.occupants,l=s&&s[a];t.isObject(l)&&r.trigger("truthupdate",{occupant:l})},"mouseover .panel-details":t.once(function(){})},initialize:function(){n.prototype.initialize.call(this),t.bindAll(this,"hideHint"),this.location=null,r.on("delegateTruth",function(e){this.model.set({navbar:e.detailsnavbar||this.model.get("navbar"),navbarstate:e.detailsnavbarstate||this.model.get("navbarstate")}),(e.detailsnavbarstate||e.detailsnavbar)&&this.refresh()},this)},refresh:function(){var n="bd-active-",r=this.model.get("navbar"),i=this.model.get("navbarstate");t.isEmpty(i)&&r.length>0&&(i=t.first(r).id),t.each(r,function(e){var t=i===e.id?"active":"";this.$("#"+e.id).removeClass("active").addClass(t)},this),this.$el.removeClass(function(){return t.chain(e(this).attr("class").split(/\s+/)).reject(function(e){return 0!==e.indexOf(n)}).value().join(" ")}),this.$el.addClass(n+i)},toJSON:function(){var e=n.prototype.toJSON.call(this),r=e.model.navbarstate,i=e.model.location;return i.phone&&(i.phone=this.formatPhone(i.phone)),e.model.navbar&&(t.each(e.model.navbar,function(e){e.classes=e.id===r?"active":""}),e.model.navbar=t.reject(e.model.navbar,function(e){return e.hide&&e.hide===!0})),e.model.location.occupants&&(e.model.location.occupants=t.sortBy(e.model.location.occupants,function(e){return e.name}),t.each(e.model.location.occupants,function(e){e.phone&&(e.phone=this.formatPhone(e.phone))},this)),e},handleOpenPreState:function(e,n){var i,a;if("openPre"===n)return a=e.get("navbar"),i=a.length>0?t.first(a).id:"",t.isEmpty(i)||r.trigger("truthupdate",{detailsnavbarstate:i}),this.render(),n},showHint:function(){r.trigger("truthupdate",{panels:"details,hint-map-icons"})},hideHint:function(){var e=this.manager.getPanel("hint-map-icons");"open"===e.state()&&r.trigger("truthupdate",{panels:"details"})}})}),define("scripts/views/panels/directions",["jquery","underscore","scripts/views/panels/Base","eventdispatcher"],function(e,t,n,r){return n.extend({events:{"click .btn-directions":function(){var e,n=this.model.get("directionsto"),r=t.getAttr(n,"latlng"),i=(this.$el.find("#input-addr1").val()||"")+" "+this.$el.find("#input-city").val()+" "+this.$el.find("#input-state").val();return t.isEmpty(this.$el.find("#input-city").val())?this.$el.find(".msg").html("Please enter a city."):(e="http://www.google.com/maps/dir/"+r.lat+","+r.lng+"/"+i.replace(" ","+"),this.$el.find("#googlemap-link").attr("href",e),this.$el.find("#googlemap-link span").trigger("click"),void 0)}},initialize:function(){n.prototype.initialize.call(this),this.model.set({directionsto:{name:""}}),r.on("delegateTruth",function(e){this.model.set({directionsto:e.directionsto||this.model.get("directionsto")})},this)},toJSON:function(){var e=this.model.get("directionsto"),t=n.prototype.toJSON.call(this);return t.model.directionsto=e.toJSON?e.toJSON():e,t}})}),define("scripts/views/panels/results",["jquery","underscore","scripts/views/panels/Base","scripts/filter","eventdispatcher"],function(e,t,n,r,i){return n.extend({title:function(e){var t=this.model.get("titles");return e||(e=this.model.get("mode")),t[e]||"No title found"},events:{"focusin .list .result button":function(t){var n=e(t.currentTarget).data("locationid");i.trigger("truthupdate",{hover:n})},"click .list .result button":function(n){var r=e(n.currentTarget).closest(".result"),a=e(n.currentTarget).data("locationid");a&&(r.hasClass("active")?i.trigger("truthupdate",{details:a,panels:"details"}):(this.$(".active").removeClass("active"),r.addClass("active"),i.trigger("truthupdate",{details:a,suppressforceclose:t.uniqueId("suppressforceclose_")})))}},initialize:function(){var e;n.prototype.initialize.call(this),e={building:"All Buildings (results)",parking:"Parking (results)",commencement:"Commencement (results)",accessibility:"Accessibility (results)"},this.model.set({results:[],titles:e}),i.on("delegateTruth",function(e){this.model.set({query:e.query||this.model.get("query"),locations:e.locations||this.model.get("locations"),primarylabel:e.primarylabel||this.model.get("primarylabel"),searchboxdisable:e.searchboxdisable||this.model.get("searchboxdisable"),filter:e.filter||this.model.get("filter"),mode:e.mode||this.model.get("mode")}),e.query&&this.getResults()},this),i.on("searchbox:keyup",function(){var e=this.manager;if(e)return"close"===this.state()?e.openPanels([this]):(this.render(),void 0)},this)},getResults:function(){var e=this.model,n=e.get("locations"),i=e.get("query"),a=r.filter(i,n,r.getFilter(e.get("filter")));e.set({results:t.map(a,function(e){return t.isFunction(e.toJSON)?e.toJSON():e})})},handleOpenPreState:function(e,t){var n,r,i;if("openPre"===t)return n=this.model.get("primarylabel"),r=this.model.get("mode"),i=this.model.get("titles"),i[r]=n,this.render(),t},toJSON:function(){var e=this.model.get("query"),r=n.prototype.toJSON.call(this);return r.model.results=t.chain(r.model.results).map(function(e){return e.toJSON?e.toJSON():e}).sortBy("name").each(function(n){if(!n.resultMatch||"name"===n.resultMatch.attr)return n.label=n.name;if("address1"===n.resultMatch.attr||"keywords"===n.resultMatch.attr)return n.label=n.name+"<span>("+n.resultMatch.val+")</span>";if("tags"===n.resultMatch.attr){var r=t.chain(n.resultMatch.val.split(",")).map(function(e){return t.trim(e)}).sortBy().filter(function(t){return 0===t.toLowerCase().indexOf(e.toLowerCase())||t.toLowerCase().indexOf(" "+e.toLowerCase())>0}).value().join(", ");return n.label=n.name+"<span>("+r+")</span>"}}).each(function(n){var r="(^|[ -/ ]+)("+e+")";t.isEmpty(n.label)||(n.label=n.label.replace(RegExp(r,"ig"),"$1<em>$2</em>"))}).value(),r}})}),define("scripts/views/panels/depts-offices-info",["jquery","underscore","scripts/views/panels/Base","eventdispatcher"],function(e,t,n,r){return n.extend({events:{"click .btn-directions":function(){}},initialize:function(){n.prototype.initialize.call(this),this.model.set({occupant:{}}),r.on("delegateTruth",function(e){e.occupant&&(this.model.set({occupant:e.occupant}),this.render())},this)},toJSON:function(){var e=this.model.get("occupant");return e.phone&&(e.phone=this.formatPhone(e.phone)),{model:e}}})}),define("scripts/views/panels/admin-location",["jquery","underscore","scripts/views/panels/Base","eventdispatcher","_mixins"],function(e,t,n,r){return n.extend({events:{"click .btn-save":"save"},initialize:function(){n.prototype.initialize.call(this),r.on("delegateTruth",function(e){this.model.set({locationmodel:e.details||this.model.get("locationmodel"),map:e.campusmap||this.model.get("map")})},this),r.on("delegateTruth",function(e){var t;e.adminmarker&&(t=e.adminmarker,this.$el.find("#inputLatLng").val(t.lat+","+t.lng))},this)},save:function(e){var n,r,i=this.model.get("locationmodel"),a=this.model.get("map"),o=["classnames","dimensions","isDetails","isHovered","offsetx","offsety","tileCache"];e.preventDefault(),i&&a&&(n=t.extend(this.getInput(),{mapid:t.getAttr(a,"mapid")}),r=t.clone(i.attributes),i&&i.set&&i.save&&(t.each(o,function(e){i.set(e,null,{silent:!0})}),i.save(n).then(function(){i.set(r,{silent:!0})})))},getInput:function(){return t.compactObject({locationid:t.escape(this.$el.find("#inputId").val()),name:t.escape(this.$el.find("#inputName").val()),nameshort:t.escape(this.$el.find("#inputNameShort").val()),latlng:t.escape(this.$el.find("#inputLatLng").val()),emphasis:t.escape(this.$el.find("#inputEmphasis").val()),labelplacement:t.escape(this.$el.find("#inputLabelPlacement").val()),address1:t.escape(this.$el.find("#inputAddress1").val()),address2:t.escape(this.$el.find("#inputAddress2").val()),city:t.escape(this.$el.find("#inputCity").val()),zip:t.escape(this.$el.find("#inputZip").val()),state:t.escape(this.$el.find("#inputState").val()),country:t.escape(this.$el.find("#inputCountry").val()),website:t.escape(this.$el.find("#inputWebsite").val()),phone:t.escape(this.$el.find("#inputPhone").val()),imageurl:t.escape(this.$el.find("#inputImage").val()),mapid:t.escape(this.$el.find("#inputMapId").val()),isvisible:t.escape(this.$el.find("#inputIsVisible").val()),tags:t.escape(this.$el.find("#inputTags").val())})},toJSON:function(){var e=n.prototype.toJSON.call(this),r=e.model.location&&e.model.location.latlng;return t.isObject(r)&&(e.model.location.latlng=r.lat+","+r.lng),e},handleOpenState:function(){var e=this.model.get("state"),n=this.model.get("locationmodel");"open"===e&&(this.init=!0,n&&r.trigger("truthupdate",{adminmarker:t.getAttr(n,"latlng")}))},handleCloseState:function(){var e=this.model.get("state");"close"===e&&r.trigger("truthupdate",{adminmarker:""})}})}),define("scripts/views/panels/admin-add-locations",["jquery","underscore","scripts/views/panels/Base","datastore","eventdispatcher"],function(e,t,n,r,i){return n.extend({events:{"click .btn-save":"save"},initialize:function(){t.bindAll(this,"handleMapClick"),n.prototype.initialize.call(this),this.newLocations=[],i.on("delegateTruth",function(e){this.model.set({map:e.campusmap||this.model.get("map")})},this)},handleMapClick:function(e){var n={locationid:t.uniqueId("Location"),name:"New Location",latlng:e,mapid:t.getAttr(this.model.get("map"),"mapid")};t.find(this.newLocations,function(t){return t.latlng===e})||this.newLocations.push(n),i.trigger("truthupdate",{locationsadded:t.map(this.newLocations,function(e){return e.latlng}).join("|")}),this.model.set({locationsaddedcount:this.newLocations.length}),this.render()},save:function(e){var n=this.model.get("map");e.preventDefault(),t.each(this.newLocations,function(e){var t=new r.Location(e);t.save().then(function(){n.has("locations")||n.set("locations",[]),n.get("locations").push(t),n.save()})})},handleOpenState:function(){"open"===this.model.get("state")&&(this.init=!0,this.model.set({locationsaddedcount:0}),this.render(),this.stopListening(i,"mapdblclick"),this.listenTo(i,"mapdblclick",this.handleMapClick))},handleCloseState:function(){"close"===this.model.get("state")&&(this.stopListening(i,"mapdblclick"),i.trigger("truthupdate",{locationsadded:null}),this.newLocations=[])}})}),define("scripts/panelManager",["jquery","underscore","datastore","transition","scripts/views/panels/Base","scripts/views/panels/details","scripts/views/panels/directions","scripts/views/panels/results","scripts/views/panels/depts-offices-info","scripts/views/panels/admin-location","scripts/views/panels/admin-add-locations"],function(e,t,n,r,i,a,o,s,l,c,u){function p(){this.panels=[],this.transition=new r}return p.prototype.initialize=function(){this.$container=e("#container-panels"),this.createPanel("details",a),this.createPanel("results",s),this.createPanel("commencement",void 0,{title:"Commencement"}),this.createPanel("parking",void 0,{title:"Parking"}),this.createPanel("admin-location",c),this.createPanel("admin-add-locations",u),this.createPanel("accessibility",void 0,{title:"Accessibility"}),this.createPanel("details-accessibility"),this.createPanel("directions",o),this.createPanel("sharelink"),this.createPanel("hint-map-icons"),this.createPanel("select-destination"),this.createPanel("commencement-more"),this.createPanel("popular-tags"),this.createPanel("printable-maps"),this.createPanel("settings"),this.createPanel("menu-mobile"),this.createPanel("blank"),this.createPanel("depts-offices-info",l),this.createPanel("back-to"),this.createPanel("back-to-parking"),this.createPanel("back-to-accessibility"),this.createPanel("back-to-results"),this.init=!0},p.prototype.getPanelsById=function(e){var n=t.chain(e.split(",")).map(function(e){var n,r=e.replace("+","");if(!t.isEmpty(e))return n=t.find(this.panels,function(e){return e.id===r}),n&&e.indexOf("+")>0&&"open"===n.state()?void 0:n},this).reject(function(e){return void 0===e}).value();return n},p.prototype.closePanels=function(e,n){var r=t.map(e,function(e){return e.id}),i=t.reject(this.panels,function(e){return"open"!==e.model.get("state")||t.contains(r,e.id)});return n===!0&&(i=this.panels),t.map(i,function(e,t){return e.close(this.transition,t)},this)},p.prototype.openPanels=function(e){return t.map(e,function(e){return e.open(this.transition)},this)},p.prototype.createPanel=function(e,r,a){var o=r||i,s=new o({id:e,model:new n.Model});return t.extend(s,a),s.manager=this,this.panels.push(s),s.render().$el.appendTo(this.$container),s},p.prototype.getPanel=function(e){return t.chain(this.getPanelsById(e)).first().value()||this.createPanel(e)},new p}),define("scripts/utils/MapUtils",["jquery","_mixins"],function(e,t){function n(){this.memoizeFunctions()}function r(e,t){this.x=e||0,this.y=t||0}function i(e,t){return e.x+"_"+e.y+"_"+t}function a(e,t,n){return null!=t&&(e=Math.max(e,t)),null!=n&&(e=Math.min(e,n)),e}function o(e){return e*(Math.PI/180)}function s(e){return e/(Math.PI/180)}var l=256,c={x:l/2,y:l/2},u=l/360,p=l/(2*Math.PI),d={};return n.prototype.getTileZoomId=i,n.prototype.point=function(e,t){return new r(e,t)},n.prototype.latLngToWorldPoint=function(e){var t,n;return t=new r,t.x=c.x+e.lng*u,n=a(Math.sin(o(e.lat)),-.9999,.9999),t.y=c.y+.5*Math.log((1+n)/(1-n))*-p,t},n.prototype.worldPointToLatLng=function(e){var t=c,n=(e.x-t.x)/u,r=(e.y-t.y)/-p,i=s(2*Math.atan(Math.exp(r))-Math.PI/2);return{lat:i,lng:n}},n.prototype.pixelCoordinateToWorldPoint=function(e,t){var n=1<<t;return{x:e.x/n,y:e.y/n}},n.prototype.worldPointToPixelCoordinate=function(e,t){var n=1<<t;return{x:e.x*n,y:e.y*n}},n.prototype.isWithinRadius=function(e,t,n,r){var i=this.latLngToWorldPoint(e),a=this.worldPointToPixelCoordinate(i,n),o=this.latLngToWorldPoint(t),s=this.worldPointToPixelCoordinate(o,n),l=this.getLength(a,s);return r||(r=0),r>l},n.prototype.getLength=function(e,t){var n=Math.pow(t.x-e.x,2),r=Math.pow(t.y-e.y,2);return Math.sqrt(n+r)},n.prototype.offsetLatLngByPixels=function(e,t,n){var r,i,a=this.latLngToWorldPoint(e),o=this.worldPointToPixelCoordinate(a,t);return n||(n={}),o.x=o.x-(n.x||0),o.y=o.y-(n.y||0),r=this.pixelCoordinateToWorldPoint(o,t),i=this.worldPointToLatLng(r)},n.prototype.getTileCache=function(){return d},n.prototype.memoizeFunctions=function(){this.getCloseByLocationsFromTileCache=t.memoize(this.getCloseByLocationsFromTileCache_,function(e,t){return i(e,t)}),this.latLngToTileOffset=this.latLngToTileOffset_,this.addLocationToTileCache=this.addLocationToTileCache_},n.prototype.resetCache=function(){return this.memoizeFunctions(),d={}},n.prototype.getLocationsFromTileCache=function(e,t,n){var r=i(e,t);return n||(n={}),d[r]||[]},n.prototype.getCloseByLocationsFromTileCache_=function(e,n){var r=[{id:"origin",xdelta:0,ydelta:0},{id:"north",xdelta:0,ydelta:-1},{id:"east",xdelta:1,ydelta:0},{id:"south",xdelta:0,ydelta:1},{id:"west",xdelta:-1,ydelta:0}],i=this.getLocationsFromTileCache,a=t.chain(r).each(function(n){return t.extend(n,{x:parseInt(e.x)+n.xdelta,y:parseInt(e.y)+n.ydelta})}).map(function(e){return i(e,n)}).flatten().value();return a},n.prototype.compareTiles=function(e,t){return{x:t.x-e.x,y:t.y-e.y}},n.prototype.getAdjustedOffset=function(e,t,n){var r=this.compareTiles(t,n);return{x:e.x+r.x*l,y:e.y+r.y*l}},n.prototype.addLocationToTileCache_=function(e,n){var r=i(e.tile,e.zoom);return d[r]||(d[r]=[]),d[r].push(n),t.getAttr(n,"tileCache")||t.setAttr(n,{tileCache:{}}),t.getAttr(n,"tileCache")[e.zoom]=e,t.setAttr(n,{offsetx:e.offset.x,offsety:e.offset.y}),n},n.prototype.latLngToTileOffset_=function(e,t){var n,r,i,a=t,o=1<<t;return n=this.latLngToWorldPoint(e),r={x:n.x*o,y:n.y*o},i={x:Math.floor(r.x/l),y:Math.floor(r.y/l)},{tile:i,zoom:a,offset:{x:Math.floor(r.x%l),y:Math.floor(r.y%l)}}},n.prototype.getStreetviewStaticUrl=function(e){var t=e.photo||"http://maps.googleapis.com/maps/api/streetview?size=343x132&location="+e.position.lat()+","+e.position.lng()+"&fov=90&heading="+e.position.heading+"&pitch="+e.position.pitch+"&sensor=false";return encodeURIComponent(t)},n.prototype.refreshLocationDimensions=function(e){t.each(e,function(e){n.prototype.setLocationDimensions.call(null,e)})},n.prototype.setLocationDimensions=function(n){var r=e("#"+t.getAttr(n,"locationid"));r[0]&&t.setAttr(n,{dimensions:{width:r.outerWidth(),height:r.outerHeight()}})},new n}),define("strategies/CssFlagStrategy",["underscore","scripts/domManager","_mixins"],function(e,t){function n(){this.type="truthhandler"}var r=["search","commencement","building","streetview","searchbox-open","satellite","panel-animations","large-labels","high-contrast-labels","accessibility","parking","mapstyle-inverted","admin","boston","grafton","medford"];return n.prototype.addCssFlag=function(e,t,r,i){return n.prototype.cssFlag(i||r,{remove:!t}),!0},n.prototype.handleZoomChange=function(e,n,r){return"zoom"===r?(t.$root.removeClass("zoomed-out zoomed-in zoom-15 zoom-16 zoom-17 zoom-18 zoom-19 zoom-20"),15>n?t.$root.addClass("zoomed-out"):n>17?t.$root.addClass("zoomed-in"):t.$root.addClass("zoom-"+n),!0):void 0},n.prototype.dispatch=e.dispatch.apply(null,e.union(e.map(r,function(t){return e.wrap(n.prototype.addCssFlag,function(e,n,r,i){return i!==t?void 0:e(n,r,i)})}),[n.prototype.handleZoomChange])),n.prototype.cssFlag=e.bind(t.cssFlag,t),n}),define("strategies/DataTypeStrategy",["jquery","underscore","scripts/config","_mixins"],function(e,t,n){function r(){this.type="truthhandler"}return r.prototype.stringToBoolean=function(e,n,r){var i={};if("true"===n||"false"===n)return n="true"===n,i[r]=n,t.extend(e,i),n},r.prototype.stringToInteger=function(e,n,r){var i={};if(t.isString(n)&&null!==n.match(/^-?\d+$/)&&"query"!==r)return n=parseInt(n),i[r]=n,t.extend(e,i),n},r.prototype.stringToLatLng=function(e,n,r){var i,a={};if(t.isString(n)&&(i=n.match(/^\s*(\-?\d+\.?(?:\d+)?),\s*(\-?\d+\.?(?:\d+)?)\s*$/),null!==i&&3===i.length))return n={lat:parseFloat(i[1]),lng:parseFloat(i[2])},a[r]=n,t.extend(e,a),n},r.prototype.zoomToInteger=function(e,n,r,i,a,o,s){var l,c={};if("zoom"===r&&("+"===n||"-"===n))return l=s.get("zoom"),n="+"===n?++l:--l,c[r]=n,t.extend(e,c),c[r]},r.prototype.locationIdsToObjects=function(e,n,r,i,a,o,s){var l,c={};if(("details"===r||"directionsto"===r)&&t.isString(n))return l=s.get("locations"),c[r]=t.find(l,function(e){return t.getAttr(e,"locationid")===n}),c[r]&&t.extend(e,c),c[r]},r.prototype.panelIdsToObjects=function(e,n,r,i,a){var o={};if("panels"===r&&t.isString(n))return""===n&&(e.primarylabel=null),o[r]=a.getPanelsById(n),"details"===n&&t.isObject(e.details)&&(e.primarylabel=t.getAttr(e.details,"name")),t.extend(e,o),o[r]},r.prototype.primaryLabelDefault=function(e,r,i){var a={};if("primarylabel"===i&&null===r)return a[i]=n.labels.primary.replace("%campus%","Medford/Somerville"),t.extend(e,a),a[i]},r.prototype.campusIdToObject=function(e,n,r,i){var a={};if("campus"===r&&t.isString(n))return a[r]=i.getCampus(n),t.extend(e,a),a[r]},r.prototype.hoverLocationChange=function(e,n,r,i,a,o,s){var l,c={};if("hover"===r&&t.isString(n))return l=s.get("locations"),c[r]=t.find(l,function(e){return t.getAttr(e,"locationid")===n}),c[r]&&t.extend(e,c),c[r]},r.prototype.backTo=function(e,n,r){var i={};if("backto"===r&&t.isString(n))return i[r]
},r.prototype.panelTransitionDone=function(n,r,i,a,o,s){return"paneltransitiondone"===i&&t.isString(r)?(n.searchboxdimensions=s.getDimensions(e("#container-searchbox")),delete n.paneltransitiondone,n.searchboxdimensions):void 0},r.prototype.modeChange=function(e,n,r){return"mode"===r?(t.extend(e,{parking:!1,commencement:!1,building:!1,accessibility:!1,search:!1}),"search"===n&&(e.primarylabel=null),e[n]=!0,n):void 0},r.prototype.detailsChange=function(e,n,r,i,a,o,s){var l,c,u;if("details"===r&&!t.isEmpty(n)&&s.get("details")===n)return l=s.get("detailsnavbar"),c=s.get("detailsnavbarstate"),t.isEmpty(c)&&(e.detailsnavbarstate=t.first(l).id),u=t.getNext(t.reject(l,function(e){return e.hide&&e.hide===!0}),c),e.detailsnavbarstate=u.id,n},r.prototype.locationsDataIntegrity=function(e,n,i,a,o){var s={};if("locations"===i&&t.isArray(n))return s[i]=t.chain(n).reject(function(e){return void 0===t.getAttr(e,"latlng")}).each(function(e){var n=t.getAttr(e,"latlng");t.isString(n)&&(e.latlngObj=r.prototype.stringToLatLng.call(this,{},n,"latlng",a,o))}).value(),n},r.prototype.dispatch=t.dispatch(r.prototype.modeChange,r.prototype.stringToBoolean,r.prototype.stringToInteger,r.prototype.stringToLatLng,r.prototype.zoomToInteger,r.prototype.locationIdsToObjects,r.prototype.panelIdsToObjects,r.prototype.campusIdToObject,r.prototype.locationsDataIntegrity,r.prototype.primaryLabelDefault,r.prototype.detailsChange,r.prototype.hoverLocationChange,r.prototype.backTo,r.prototype.panelTransitionDone),r}),define("strategies/StateManagementStrategy",["underscore","scripts/config","scripts/domManager","eventdispatcher","_mixins"],function(e,t,n,r){function i(){this.type="truth-data-transformer"}return i.prototype.toggle=function(e,t,n){return"toggle"===t?t=!e[n]:void 0},i.prototype.mapTileHoverToCloseByLocations=function(t,n,i,a){var o,s;if("maptilehover"===i)return s=t.get("locations"),o=a.getCloseByLocationsFromTileCache(n.tile,n.zoom),e.each(s,function(t){e.setAttr(t,{isCloseBy:e.contains(o,t)})}),r.trigger("truthupdate",{locationscloseby:o}),n},i.prototype.detailsLocation=function(n,i,a){var o,s;if("details"===a)return o=n.get("locations"),e.each(o,function(t){e.setAttr(t,{isDetails:i&&e.getAttr(i,"locationid")?e.getAttr(t,"locationid")===e.getAttr(i,"locationid"):!1})}),s=e.chain(t.models.detailsnavbar).each(function(e){e.hide=!1}).each(function(t){e.isObject(i)&&"imagery"===t.id&&(t.hide=e.isEmpty(e.getAttr(i,"imageurl"))),e.isObject(i)&&"depts-offices"===t.id&&(t.hide=e.isEmpty(e.getAttr(i,"occupants")))}).value(),r.trigger("truthupdate",e.extend({forceclosepanels:!e.has(n.changedAttributes(),"suppressforceclose"),detailsnavbar:s},e.isObject(i)&&"details"===n.get("panels")[0].id?{primarylabel:e.getAttr(i,"name"),searchboxdisable:!0}:{})),r.trigger("delegateTruth",{detailsnavbar:s}),i},i.prototype.hoveredLocation=function(t,n,i){var a;if("hover"===i)return a=t.get("locations"),e.each(a,function(t){e.setAttr(t,{isHovered:n&&e.getAttr(n,"locationid")?e.getAttr(t,"locationid")===e.getAttr(n,"locationid"):!1})}),r.trigger("truthupdate",{cursor:n&&!e.isEmpty(n)?"pointer":""}),n},i.prototype.panels=function(t,n,i){return"panels"===i?(r.trigger("truthupdate",{"searchbox-open":!e.isEmpty(n)}),n):void 0},i.prototype.forceClosePanels=function(e,t,n){return"forceclosepanels"===n?(t===!0&&r.trigger("truthupdate",{forceclosepanels:!1},{silent:!0}),t):void 0},i.prototype.panelTransitionDone=function(e,t){return t},i.prototype.dispatch=e.dispatch(i.prototype.toggle,i.prototype.mapTileHoverToCloseByLocations,i.prototype.hoveredLocation,i.prototype.detailsLocation,i.prototype.panels,i.prototype.forceClosePanels,i.prototype.panelTransitionDone),i}),define("scripts/controllers/appController",["underscore","backbone","datastore","scripts/domManager","scripts/panelManager","scripts/utils/MapUtils","strategies/CssFlagStrategy","strategies/DataTypeStrategy","strategies/StateManagementStrategy","eventdispatcher"],function(e,t,n,r,i,a,o,s,l,c){function u(){e.bindAll(this,"handleTruthChange","setTheTruth"),this.theTruth=n.factory.model(),this.cssFlagStrategy=new o,this.dataTypeStrategy=new s,this.stateManagementStrategy=new l}return u.prototype.init=function(){return this.theTruth.listenTo(c,"truthupdate",this.setTheTruth),c.listenTo(this.theTruth,"change",this.handleTruthChange),this},u.prototype.setTheTruth=function(t,a){a||(a={}),a.clear===!0&&this.theTruth.clear({silent:!0}),e.each(t,function(e,a){this.dataTypeStrategy.dispatch(t,e,a,n,i,r,this.theTruth)},this),this.theTruth.set(t,a)},u.prototype.handleTruthChange=function(t){var n=t.changedAttributes(),r=t.previousAttributes();e.isEmpty(n)||(n.forceclosepanels===!0&&(n.panels=t.get("panels")),e.each(n,function(e,n){this.stateManagementStrategy.dispatch(t,e,n,a),this.cssFlagStrategy.dispatch(t,e,n)},this),c.trigger("delegateTruth",n,r))},u.prototype.trigger=e.bind(c.trigger,c),u}),define("strategies/controllers/MapHandleTruthChangeStrategy",["underscore","_mixins"],function(e){function t(){this.type="truth-handler"}return t.prototype.handleMapType=function(e,t,n,r){"maptype"===n&&r.setMapType(t)},t.prototype.handleCenter=function(t,n,r,i){"center"===r&&e.isObject(n)&&i.setCenter(n)},t.prototype.handleCursor=function(t,n,r,i){"cursor"===r&&e.isString(n)&&i.setCursor(n)},t.prototype.handleZoom=function(t,n,r,i){"zoom"===r&&e.isNumber(n)&&i.setZoom(n)},t.prototype.handleLocations=function(t,n,r,i){"locations"===r&&e.isArray(n)&&i.renderLabelOverlay(n)},t.prototype.handleCloseByLocations=function(t,n,r,i){"locationscloseby"===r&&e.isArray(n)&&i.refreshLabelCss(t.locations,n)},t.prototype.handleHoveredLocation=function(e,t,n,r){"hover"===n&&r.refreshLabelCss(e.locations,t)},t.prototype.handleDetailsLocation=function(e,t,n,r){"details"===n&&r.refreshLabelCss(e.locations,t)},t.prototype.panelTransitionDone=function(t,n,r,i){"searchboxdimensions"!==r||e.isEmpty(t.searchboxdimensions)||e.isEmpty(t.details)||!e.isNumber(t.zoom)||i.handleSearchboxCollisons(t.searchboxdimensions,t.zoom,e.getAttr(t.details,"latlng"))},t.prototype.handleAdminMarker=function(e,t,n,r){"adminmarker"===n&&r.setAdminMarker(t)},t.prototype.handleCenterOffset=function(e,t,n,r){"centeroffset"===n&&(r.centeroffset=t)},t.prototype.dispatch=e.dispatch(t.prototype.handleMapType,t.prototype.handleCenter,t.prototype.handleCursor,t.prototype.handleZoom,t.prototype.handleLocations,t.prototype.handleCloseByLocations,t.prototype.handleHoveredLocation,t.prototype.handleDetailsLocation,t.prototype.panelTransitionDone,t.prototype.handleAdminMarker,t.prototype.handleCenterOffset),t}),define("scripts/controllers/mapController",["jquery","underscore","strategies/controllers/MapHandleTruthChangeStrategy","scripts/utils/MapUtils","eventdispatcher"],function(e,t,n,r,i){function a(e){t.bindAll(this,"handleTruthChange"),this.handleTruthStrategy=new n,this.mapView=e,this.theTruthJSON={},i.on("delegateTruth",this.handleTruthChange)}return a.prototype.handleTruthChange=function(e){t.extend(this.theTruthJSON,e),this.mapView&&((e.zoom||e.locations)&&this.refreshTileCache(this.theTruthJSON.locations,this.theTruthJSON.zoom),t.each(e,function(e,t){this.handleTruthStrategy.dispatch(this.theTruthJSON,e,t,this.mapView)},this))},a.prototype.refreshTileCache=function(e){r.resetCache(),t.each(e,function(e){var n;n=r.latLngToTileOffset(t.getAttr(e,"latlng"),this.theTruthJSON.zoom),r.addLocationToTileCache(n,e)},this)},a.prototype.trigger=t.bind(i.trigger,i),a}),define("scripts/controllers/searchboxController",["jquery","underscore","eventdispatcher"],function(e,t,n){function r(e){t.bindAll(this,"handleTruthChangeSB"),this.PM=e,this.PM.initialize(),n.on("delegateTruth",this.handleTruthChangeSB)}return r.prototype.handleTruthChangeSB=function(r){var i,a,o=r.panels,s=this;o&&this.transition!==!0&&(i=this.PM,this.transition=!0,a=i.closePanels(o,r.forceclosepanels),e.when.apply(null,a).done(function(){return n.trigger("truthupdate",{paneltransitiondone:t.uniqueId("panelsopen_")},{silent:!1}),t.isEmpty(o)?(s.transition=!1,void 0):(e.when.apply(null,i.openPanels(o)).done(t.throttle(function(){n.trigger("truthupdate",{paneltransitiondone:t.uniqueId("panelsopen_")},{silent:!1}),s.transition=!1},1e3)),void 0)}))},r.prototype.handlePanelsOpen=t.bind(n.trigger,n),r.prototype.trigger=t.bind(n.trigger,n),r}),define("scripts/router",["underscore","backbone","eventdispatcher"],function(e,t,n){var r=t.Router.extend({defaults:{settings:{},whiteList:[],locWhiteList:["details","campusmap","campusid"]},routes:{"*params":"handleRoute"},initialize:function(t){e.extend(this,this.defaults,t),n.on("delegateTruth",function(){this.navigate("",{trigger:!1})},this)},start:function(e){t.history.start(e)},processQueryString:function(t){return e.isString(t)&&(t=decodeURIComponent(t),t=t.replace(/[^a-zA-Z0-9-+_&=#,!\.:/|]/g,"")),t=t||"",t.length>0&&-1===t.indexOf("=")&&-1===t.indexOf("&")&&(t="campusid="+t),t},toQueryString:function(t){return e.chain(t).pick(this.whiteList).map(function(t,n){return n+"="+(e.isObject(t)&&t.value?encodeURIComponent(t.value):encodeURIComponent(t))}).value().join("&")},toLocationQueryString:function(t){return e.chain(t).pick(this.locWhiteList).map(function(t,n){return n+"="+(e.isObject(t)&&t.value?encodeURIComponent(t.value):encodeURIComponent(t))}).value().join("&")},getDefaults:function(t){var n;return t=this.processQueryString(t),-1===t.indexOf("=")?{}:n=e.chain(t.split("&")).map(function(e){return e.split("=")}).each(function(e){"true"===e[1]?e[1]=!0:"false"===e[1]?e[1]=!1:null!==e[1].match(/^\d+$/)&&(e[1]=parseInt(e[1]))}).object().value()},handleRoute:function(t){var r=e.extend(this.settings,this.getDefaults(t));n.trigger("truthupdate",r,{clear:!1})}});return r}),define("app",["jquery","underscore","scripts/config","scripts/controllers/appController","scripts/controllers/mapController","scripts/controllers/searchboxController","scripts/router","datastore","scripts/domManager","scripts/panelManager"],function(e,t,n,r,i,a,o,s,l,c){function u(e,o,s,u){t.bindAll(this,"start"),e&&e.nodeType?l.setAppRoot(e):n.throwError.appInit(),this.settings=t.defaults(o,s),this.controller=(new r).init(),this.mapController=new i(u),this.searchboxController=new a(c)}return u.prototype.init=function(){return this.settings.campus?(e.when(this.fetch(this.settings.campus)).done(this.start).fail(n.throwError.appInit),this):void 0},u.prototype.start=function(e){var n=t.extend(this.settings,e);new o({settings:n}).start()},u.prototype.fetch=t.bind(s.fetch,s),u}),define("scripts/views/map/LabelMapType",["scripts/domManager","scripts/utils/MapUtils"],function(e,t){function n(e,t){this.tileSize=e,this.utils=t}return n.prototype.getTile=function(n,r,i){var a=this.utils.getLocationsFromTileCache(n,r);return e.getLabelTile(t.getTileZoomId(n,r),i,a)},n}),define("async",[],function(){function e(e){var t,n;t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src=e,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)}function t(e,t){var n=/!(.+)/,i=e.replace(n,""),a=n.test(e)?e.replace(/.+!/,""):r;return i+=0>i.indexOf("?")?"?":"&",i+a+"="+t}function n(){return i+=1,"__async_req_"+i+"__"}var r="callback",i=0;return{load:function(r,i,a,o){if(o.isBuild)a(null);else{var s=n();window[s]=a,e(t(r,s))}}}}),define("scripts/views/map/GoogleMap",["jquery","_mixins","scripts/config","scripts/views/map/LabelMapType","scripts/utils/MapUtils","scripts/domManager","eventdispatcher","async!http://maps.google.com/maps/api/js?sensor=false"],function(e,t,n,r,i,a,o){function s(a){var s,c=t.chain(n.googlemap.maptypes).keys().first().value()||google.maps.MapTypeId.ROADMAP,u=this;a||(a={}),a.el||n.throwError.mapViewInit(),this.map=new l.maps.Map(a.el,t.defaults(n.googlemap.attrs(l),{center:{lat:0,lng:0}})),this.initMapTypes(n.googlemap.maptypes),this.map.setMapTypeId(c),this.labelLayer=new r(new google.maps.Size(256,256),i),s=this.streetview=this.map.getStreetView(),this.streetview.setOptions({addressControl:!1}),google.maps.event.addListenerOnce(this.map,"tilesloaded",function(){e(".panel-search .search").trigger("click"),google.maps.event.addListener(s,"visible_changed",function(){o.trigger("truthupdate",{streetview:s.getVisible()})})}),google.maps.event.addListener(this.map,"zoom_changed",function(){o.trigger("truthupdate",{zoom:this.getZoom()})}),google.maps.event.addListener(this.map,"mousemove",function(e){var t=u.underLatLng_(e.latLng,this.getZoom());o.trigger("truthupdate",{hover:t})}),google.maps.event.addListener(this.map,"dragstart",function(){google.maps.event.clearListeners(this,"mousemove")}),google.maps.event.addListener(this.map,"dragend",function(){google.maps.event.addListener(this,"mousemove",function(e){var t=u.underLatLng_(e.latLng,this.getZoom());o.trigger("truthupdate",{hover:t})})}),google.maps.event.addListener(this.map,"click",function(e){var n=u.underLatLng_(e.latLng,this.getZoom()),r=n&&"details"||"";e.stop(),t.isObject(n)?o.trigger("truthupdate",{details:n,panels:r,query:null,backto:null,primarylabel:t.isObject(n)?t.getAttr(n,"name"):null}):o.trigger("truthupdate",{details:"",panels:"",query:null,backto:null,primarylabel:null})}),google.maps.event.addListener(this.map,"dblclick",function(e){e.stop(),o.trigger("mapdblclick",e.latLng.toUrlValue())})}var l=google;return s.prototype.underLatLng_=function(n,r){var a,o,s;return o=i.latLngToTileOffset_({lat:n.lat(),lng:n.lng()},r),s=o.offset,a=t.chain(i.getCloseByLocationsFromTileCache(o.tile,o.zoom)).each(i.setLocationDimensions).reject(function(e){return void 0===t.getAttr(e,"dimensions")}).filter(function(e){var n=t.getAttr(e,"tileCache")[r],a=t.getAttr(e,"dimensions"),l=i.getAdjustedOffset(n.offset,o.tile,n.tile);return s.x>l.x-10&&s.x<l.x+a.width-6&&s.y>l.y-10&&s.y<l.y+a.height-6}).first().value(),a&&e("#"+t.getAttr(a,"locationid")).is(":visible")===!1&&(a=void 0),o=null,s=null,a},s.prototype.initMapTypes=function(e){t.each(e,function(e,n){t.isArray(e.styles)?this.map.mapTypes.set(n,new google.maps.StyledMapType(e.styles)):t.isFunction(e.tiles)&&this.map.mapTypes.set(n,e.tiles(l))},this)},s.prototype.setMapType=function(e){this.map.setMapTypeId(e)},s.prototype.setZoom=function(e){this.map.setZoom(e)},s.prototype.setCenter=function(e){var t=this.centeroffset||{x:0,y:0};e&&(e=i.offsetLatLngByPixels(e,this.map.getZoom(),t),this.map.panTo(e))},s.prototype.setCursor=function(e){this.map.setOptions({draggableCursor:e})},s.prototype.refreshLabelCss=function(n){t.each(n,function(n){var r,i=t.getAttr(n,"locationid");i&&(r=e("#"+i),r.removeClass().addClass(a.getLocationClassNames(n)))},this)},s.prototype.handleSearchboxCollisons=function(e,n,r){if(r){var a=this.map.getBounds(),s=(this.map.getZoom(),this.map.getCenter()),l=a.getNorthEast(),c=a.getSouthWest(),u={lat:l.lat(),lng:c.lng()},p=i.offsetLatLngByPixels(u,n,{x:-e.width,y:-e.height}),d=new google.maps.LatLng(p.lat,c.lng()),f=new google.maps.LatLng(l.lat(),p.lng),h=new google.maps.LatLngBounds(d,f),m=h.contains(new google.maps.LatLng(r.lat,r.lng)),g=i.worldPointToPixelCoordinate(this.map.getProjection().fromLatLngToPoint(d),n),v=i.worldPointToPixelCoordinate(this.map.getProjection().fromLatLngToPoint(new google.maps.LatLng(r.lat,r.lng)),n),b=g.y-v.y;m===!0&&t.delay(function(){o.trigger("truthupdate",{center:i.offsetLatLngByPixels({lat:s.lat(),lng:s.lng()},n,{x:0,y:b+16})})},400)}},s.prototype.setAdminMarker=function(e){var n;return this.map,this.adminmarker||(this.adminmarker=new google.maps.Marker({map:this.map,title:"Drag markerto change lat/lng",draggable:!0}),n=this.adminmarker,google.maps.event.addListener(this.adminmarker,"dragend",function(){var e=n.getPosition().toUrlValue();o.trigger("truthupdate",{adminmarker:e.replace(/[\(\)]+/g,"")})})),t.isEmpty(e)?this.adminmarker.setVisible(!1):(this.adminmarker.setPosition(e),this.adminmarker.setVisible(!0),void 0)},s.prototype.renderLabelOverlay=function(e){this.labelLayer.locations=e,1===this.map.overlayMapTypes.length&&this.map.overlayMapTypes.removeAt(0),this.map.overlayMapTypes.insertAt(0,this.labelLayer)},s}),define("scripts/views/searchbox",["jquery","underscore","datastore","templates","eventdispatcher","_mixins"],function(e,t,n,r,i){var a=n.View.extend({events:{"click .btn.search":"handleBtnClick","mouseover #container-searchbox":function(){},"focusin #searchbox":function(){i.trigger("truthupdate",{primarylabel:"",filter:"defaultFilter"})},"focusout #searchbox":function(n){t.isEmpty(e(n.currentTarget).val())&&i.trigger("truthupdate",{primarylabel:null})},"keyup  #searchbox":t.debounce(function(n){var r=e(n.currentTarget).val(),a={panels:t.isEmpty(r)?"":"results",filter:"defaultFilter",query:r};i.trigger("truthupdate",a),i.trigger("searchbox:keyup",a)},200),"click  .btn-backto":function(e){var n=this.model.get("backto");e.preventDefault(),i.trigger("truthupdate",t.extend(n,{backto:null}))}},className:"searchbox",template:r["app/scripts/templates/searchbox.ejs"],initialize:function(){return t.bindAll(this,"handleTruthChange","refreshBackTo","refreshSearchboxDisabled","refreshPrimaryLabel"),i.on("delegateTruth",this.handleTruthChange),this.model&&(this.listenTo(this.model,"change:primarylabel",this.refreshPrimaryLabel),this.listenTo(this.model,"change:searchboxdisable",this.refreshSearchboxDisabled),this.listenTo(this.model,"change:query",this.refreshResultsPanel),this.listenTo(this.model,"change:backto",this.refreshBackTo),this.listenTo(this.model,"change:mode",this.refreshModeTitle)),this.$el.on("focus","#searchbox",function(e){e.preventDefault()}),this},render:function(){var e={model:this.model.toJSON()},t=this.template(e);return this.$el.append(t),this},refreshModeTitle:function(n,r){var i=" ";("parking"===r||"accessibility"===r||"commencement"===r)&&(i=r),e("#mode").html(t.capitaliseFirstLetter(i))},refreshPrimaryLabel:function(e,t){this.$("#searchbox, .label-primary").val(t)},refreshSearchboxDisabled:function(e,t){this.$("#searchbox").prop("disabled",t)},refreshResultsPanel:function(){},refreshBackTo:function(e,n){var r="show-backto",i=this.$el.find(".btn-backto .lbl");this.$el.removeClass(r),t.isEmpty(n)||(i.html(n.label||"back"),this.$el.addClass(r))},handleTruthChange:function(e){this.model&&this.model.set(e,{silent:!1})},handleBtnClick:function(e){e.preventDefault(),this.$el.focus(),i.trigger("truthupdate",{panels:"",details:"",backto:null,primarylabel:null,searchboxdisable:!1})}});return a.prototype.trigger=t.bind(i.trigger,i),a}),define("widget",["underscore","datastore","app","scripts/views/map/GoogleMap","scripts/views/searchbox","scripts/config"],function(e,t,n,r,i,a){function o(e,o,s){var l=(new i({model:t.factory.model()}).render().$el.appendTo(e),new r({el:o,model:t.factory.model()})),c=new n(e,s,a.defaults.theTruth,l);c.init()}if(void 0!==require)return{Campusmap:o}});